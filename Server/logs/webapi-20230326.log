[2023-03-26 09:30:15.201 +03:00  INF]  Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 09:30:15.405 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 09:30:15.409 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 09:30:15.410 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 09:30:15.434 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 09:30:15.451 +03:00  INF]  Applying migration '20230326063004_update4'.
[2023-03-26 09:30:15.494 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326063004_update4', N'7.0.4');
[2023-03-26 09:31:12.746 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 09:31:12.912 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 09:31:12.915 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 09:31:12.916 +03:00  INF]  Hosting environment: Development
[2023-03-26 09:31:12.916 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 09:31:14.451 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 09:31:14.843 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 393.7793ms
[2023-03-26 09:31:14.876 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 09:31:14.884 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 6.9674ms
[2023-03-26 09:31:15.099 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 09:31:15.196 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.8010ms
[2023-03-26 09:31:15.391 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 09:31:15.523 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.0394ms
[2023-03-26 09:31:18.589 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 09:31:18.706 +03:00  INF]  CORS policy execution successful.
[2023-03-26 09:31:18.739 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 09:31:18.810 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 09:31:42.564 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
System.InvalidOperationException: The value of 'Leg.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Leg.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-26 09:35:46.145 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 09:35:46.338 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 09:35:46.342 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 09:35:46.342 +03:00  INF]  Hosting environment: Development
[2023-03-26 09:35:46.342 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 09:35:46.793 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 09:35:47.235 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 444.8984ms
[2023-03-26 09:35:47.333 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 09:35:47.346 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.6981ms
[2023-03-26 09:35:47.358 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 09:35:47.423 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.3954ms
[2023-03-26 09:35:47.583 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 09:35:47.719 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.5130ms
[2023-03-26 09:35:51.489 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 09:35:51.499 +03:00  INF]  CORS policy execution successful.
[2023-03-26 09:35:51.506 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 09:35:51.527 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 09:36:01.955 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
System.InvalidOperationException: The value of 'Leg.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Leg.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-26 09:47:15.823 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 09:47:15.964 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 09:47:15.966 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 09:47:15.967 +03:00  INF]  Hosting environment: Development
[2023-03-26 09:47:15.967 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 09:47:16.925 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 09:47:17.249 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 326.9771ms
[2023-03-26 09:47:17.265 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 09:47:17.272 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 6.5169ms
[2023-03-26 09:47:17.310 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 09:47:17.367 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.0967ms
[2023-03-26 09:47:17.500 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 09:47:17.622 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.8997ms
[2023-03-26 09:47:19.528 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 09:47:19.537 +03:00  INF]  CORS policy execution successful.
[2023-03-26 09:47:19.543 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 09:47:19.565 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 09:47:38.812 +03:00  INF]  Executed DbCommand (98ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 09:47:38.852 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [NextPosibbleLegs])
VALUES (@p4, @p5, @p6);
[2023-03-26 09:47:42.063 +03:00  INF]  Added Log! Leg's Id: 9, Leg's Number: One, Leg's Next Posibble Legs Two
[2023-03-26 09:47:55.174 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 09:47:55.200 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [NextPosibbleLegs])
VALUES (@p4, @p5, @p6);
[2023-03-26 09:47:56.068 +03:00  INF]  Added Log! Leg's Id: 10, Leg's Number: Two, Leg's Next Posibble Legs One, Two
[2023-03-26 10:02:05.768 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 10:02:05.910 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 10:02:05.912 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 10:02:05.913 +03:00  INF]  Hosting environment: Development
[2023-03-26 10:02:05.913 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 10:02:06.505 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 10:02:06.792 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 289.0446ms
[2023-03-26 10:02:06.876 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 10:02:06.876 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 10:02:06.894 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 18.3549ms
[2023-03-26 10:02:06.939 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.3971ms
[2023-03-26 10:02:07.050 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 10:02:07.171 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.8552ms
[2023-03-26 10:02:10.350 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 10:02:10.359 +03:00  INF]  CORS policy execution successful.
[2023-03-26 10:02:10.365 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 10:02:10.386 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 10:02:33.486 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 10:02:33.624 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 10:02:33.626 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 10:02:33.627 +03:00  INF]  Hosting environment: Development
[2023-03-26 10:02:33.627 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 10:02:34.324 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 10:02:34.618 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 296.1883ms
[2023-03-26 10:02:34.635 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 10:02:34.645 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 10.4955ms
[2023-03-26 10:02:34.693 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 10:02:34.750 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.0974ms
[2023-03-26 10:02:34.882 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 10:02:35.008 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.5181ms
[2023-03-26 10:02:37.986 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 10:02:37.996 +03:00  INF]  CORS policy execution successful.
[2023-03-26 10:02:38.002 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 10:02:38.023 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 10:02:46.327 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
System.InvalidOperationException: The value of 'Leg.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Leg.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-26 10:03:04.655 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 10:03:04.819 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 10:03:04.823 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 10:03:04.824 +03:00  INF]  Hosting environment: Development
[2023-03-26 10:03:04.824 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 10:03:05.465 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 10:03:05.764 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 300.7742ms
[2023-03-26 10:03:05.772 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 10:03:05.783 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 10.5341ms
[2023-03-26 10:03:05.830 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 10:03:05.885 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.1114ms
[2023-03-26 10:03:06.012 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 10:03:06.141 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.7837ms
[2023-03-26 10:03:09.008 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 10:03:09.017 +03:00  INF]  CORS policy execution successful.
[2023-03-26 10:03:09.023 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 10:03:09.044 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 10:03:17.060 +03:00  ERR]  Failed executing DbCommand (66ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Legs] ([CurrentLeg], [FlightId], [NextPosibbleLegs])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
[2023-03-26 10:03:17.110 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FlightId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:927746b7-2392-44d2-9b97-6a8bd23928df
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'FlightId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:927746b7-2392-44d2-9b97-6a8bd23928df
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-26 10:04:01.692 +03:00  INF]  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 10:04:01.805 +03:00  INF]  Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 10:04:01.809 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 10:04:01.810 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 10:04:01.838 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 10:04:01.855 +03:00  INF]  Applying migration '20230326070348_adding-FlightIDToLeg'.
[2023-03-26 10:50:15.845 +03:00  INF]  Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-26 10:50:15.990 +03:00  INF]  Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-26 10:50:16.012 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 10:50:16.086 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-26 10:50:16.088 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 10:50:16.105 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 10:50:16.110 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 10:50:16.128 +03:00  INF]  Applying migration '20230325135032_init'.
[2023-03-26 10:50:16.174 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-26 10:50:16.178 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NOT NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]) ON DELETE CASCADE
);
[2023-03-26 10:50:16.179 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Legs_Flights_Id] FOREIGN KEY ([Id]) REFERENCES [Flights] ([Id]) ON DELETE CASCADE
);
[2023-03-26 10:50:16.182 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [EnterTime] datetime2 NOT NULL,
    [ExitTime] datetime2 NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id])
);
[2023-03-26 10:50:16.183 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-26 10:50:16.184 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-26 10:50:16.186 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135032_init', N'7.0.4');
[2023-03-26 10:50:16.192 +03:00  INF]  Applying migration '20230325135629_update'.
[2023-03-26 10:50:16.210 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] DROP CONSTRAINT [FK_Flights_Pilots_PilotId];
[2023-03-26 10:50:16.252 +03:00  INF]  Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'PilotId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Flights] ALTER COLUMN [PilotId] int NULL;
[2023-03-26 10:50:16.269 +03:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'Code');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Flights] ALTER COLUMN [Code] nvarchar(max) NULL;
[2023-03-26 10:50:16.271 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] ADD CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]);
[2023-03-26 10:50:16.271 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135629_update', N'7.0.4');
[2023-03-26 10:50:16.272 +03:00  INF]  Applying migration '20230325135734_update2'.
[2023-03-26 10:50:16.294 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'Message');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [Message] nvarchar(max) NULL;
[2023-03-26 10:50:16.307 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'ExitTime');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [ExitTime] datetime2 NULL;
[2023-03-26 10:50:16.322 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'EnterTime');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [EnterTime] datetime2 NULL;
[2023-03-26 10:50:16.323 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135734_update2', N'7.0.4');
[2023-03-26 10:50:16.324 +03:00  INF]  Applying migration '20230325162659_update3'.
[2023-03-26 10:50:16.331 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325162659_update3', N'7.0.4');
[2023-03-26 10:50:16.332 +03:00  INF]  Applying migration '20230326063004_update4'.
[2023-03-26 10:50:16.340 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326063004_update4', N'7.0.4');
[2023-03-26 10:50:16.341 +03:00  INF]  Applying migration '20230326070348_adding-FlightIDToLeg'.
[2023-03-26 11:37:51.064 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 11:37:51.277 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 11:37:51.279 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 11:37:51.279 +03:00  INF]  Hosting environment: Development
[2023-03-26 11:37:51.280 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 11:37:52.169 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 11:37:52.479 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 311.6684ms
[2023-03-26 11:37:52.488 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 11:37:52.497 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 8.3475ms
[2023-03-26 11:37:52.564 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 11:37:52.628 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.9643ms
[2023-03-26 11:37:52.774 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 11:37:52.899 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.4411ms
[2023-03-26 11:37:55.326 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 11:37:55.338 +03:00  INF]  CORS policy execution successful.
[2023-03-26 11:37:55.344 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 11:37:55.368 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 11:38:02.381 +03:00  ERR]  An error occurred using the connection to database 'MyAirport' on server 'LAPTOP-UAILNETP'.
[2023-03-26 11:38:02.423 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "MyAirport" requested by the login. The login failed.
Login failed for user 'LAPTOP-UAILNETP\Aviv'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:4d6bc572-2d57-4ce2-94f1-29d48d674c8b
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "MyAirport" requested by the login. The login failed.
Login failed for user 'LAPTOP-UAILNETP\Aviv'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:4d6bc572-2d57-4ce2-94f1-29d48d674c8b
Error Number:4060,State:1,Class:11
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-26 11:39:54.202 +03:00  INF]  Executed DbCommand (200ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-26 11:39:54.358 +03:00  INF]  Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-26 11:39:54.380 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:39:54.459 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-26 11:39:54.461 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:39:54.477 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 11:39:54.483 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 11:39:54.499 +03:00  INF]  Applying migration '20230325135032_init'.
[2023-03-26 11:39:54.552 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-26 11:39:54.556 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NOT NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]) ON DELETE CASCADE
);
[2023-03-26 11:39:54.558 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Legs_Flights_Id] FOREIGN KEY ([Id]) REFERENCES [Flights] ([Id]) ON DELETE CASCADE
);
[2023-03-26 11:39:54.560 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [EnterTime] datetime2 NOT NULL,
    [ExitTime] datetime2 NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id])
);
[2023-03-26 11:39:54.561 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-26 11:39:54.562 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-26 11:39:54.564 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135032_init', N'7.0.4');
[2023-03-26 11:39:54.570 +03:00  INF]  Applying migration '20230325135629_update'.
[2023-03-26 11:39:54.590 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] DROP CONSTRAINT [FK_Flights_Pilots_PilotId];
[2023-03-26 11:39:54.634 +03:00  INF]  Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'PilotId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Flights] ALTER COLUMN [PilotId] int NULL;
[2023-03-26 11:39:54.648 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'Code');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Flights] ALTER COLUMN [Code] nvarchar(max) NULL;
[2023-03-26 11:39:54.650 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] ADD CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]);
[2023-03-26 11:39:54.650 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135629_update', N'7.0.4');
[2023-03-26 11:39:54.651 +03:00  INF]  Applying migration '20230325135734_update2'.
[2023-03-26 11:39:54.681 +03:00  INF]  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'Message');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [Message] nvarchar(max) NULL;
[2023-03-26 11:39:54.701 +03:00  INF]  Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'ExitTime');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [ExitTime] datetime2 NULL;
[2023-03-26 11:39:54.715 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'EnterTime');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [EnterTime] datetime2 NULL;
[2023-03-26 11:39:54.716 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135734_update2', N'7.0.4');
[2023-03-26 11:39:54.717 +03:00  INF]  Applying migration '20230325162659_update3'.
[2023-03-26 11:39:54.724 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325162659_update3', N'7.0.4');
[2023-03-26 11:39:54.725 +03:00  INF]  Applying migration '20230326063004_update4'.
[2023-03-26 11:39:54.733 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326063004_update4', N'7.0.4');
[2023-03-26 11:39:54.733 +03:00  INF]  Applying migration '20230326070348_adding-FlightIDToLeg'.
[2023-03-26 11:40:10.496 +03:00  INF]  Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-26 11:40:10.647 +03:00  INF]  Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-26 11:40:10.670 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:40:10.746 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-26 11:40:10.748 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:40:10.765 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 11:40:10.770 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 11:40:10.786 +03:00  INF]  Applying migration '20230325135032_init'.
[2023-03-26 11:40:10.837 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-26 11:40:10.842 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NOT NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]) ON DELETE CASCADE
);
[2023-03-26 11:40:10.844 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Legs_Flights_Id] FOREIGN KEY ([Id]) REFERENCES [Flights] ([Id]) ON DELETE CASCADE
);
[2023-03-26 11:40:10.849 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [EnterTime] datetime2 NOT NULL,
    [ExitTime] datetime2 NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id])
);
[2023-03-26 11:40:10.850 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-26 11:40:10.851 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-26 11:40:10.853 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135032_init', N'7.0.4');
[2023-03-26 11:40:10.860 +03:00  INF]  Applying migration '20230325135629_update'.
[2023-03-26 11:40:10.877 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] DROP CONSTRAINT [FK_Flights_Pilots_PilotId];
[2023-03-26 11:40:10.917 +03:00  INF]  Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'PilotId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Flights] ALTER COLUMN [PilotId] int NULL;
[2023-03-26 11:40:10.933 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'Code');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Flights] ALTER COLUMN [Code] nvarchar(max) NULL;
[2023-03-26 11:40:10.935 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] ADD CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]);
[2023-03-26 11:40:10.936 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135629_update', N'7.0.4');
[2023-03-26 11:40:10.937 +03:00  INF]  Applying migration '20230325135734_update2'.
[2023-03-26 11:40:10.959 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'Message');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [Message] nvarchar(max) NULL;
[2023-03-26 11:40:10.975 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'ExitTime');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [ExitTime] datetime2 NULL;
[2023-03-26 11:40:10.991 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'EnterTime');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [EnterTime] datetime2 NULL;
[2023-03-26 11:40:10.993 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135734_update2', N'7.0.4');
[2023-03-26 11:40:10.994 +03:00  INF]  Applying migration '20230325162659_update3'.
[2023-03-26 11:40:11.000 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325162659_update3', N'7.0.4');
[2023-03-26 11:40:11.001 +03:00  INF]  Applying migration '20230326063004_update4'.
[2023-03-26 11:40:11.007 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326063004_update4', N'7.0.4');
[2023-03-26 11:40:11.007 +03:00  INF]  Applying migration '20230326070348_adding-FlightIDToLeg'.
[2023-03-26 11:41:41.605 +03:00  INF]  Executed DbCommand (248ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-26 11:41:41.751 +03:00  INF]  Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-26 11:41:41.774 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:41:41.900 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-26 11:41:41.901 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:41:41.918 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 11:41:41.924 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 11:41:41.946 +03:00  INF]  Applying migration '20230325135032_init'.
[2023-03-26 11:41:42.023 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-26 11:41:42.027 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NOT NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]) ON DELETE CASCADE
);
[2023-03-26 11:41:42.028 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Legs_Flights_Id] FOREIGN KEY ([Id]) REFERENCES [Flights] ([Id]) ON DELETE CASCADE
);
[2023-03-26 11:41:42.030 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [EnterTime] datetime2 NOT NULL,
    [ExitTime] datetime2 NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id])
);
[2023-03-26 11:41:42.031 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-26 11:41:42.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-26 11:41:42.034 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135032_init', N'7.0.4');
[2023-03-26 11:41:42.041 +03:00  INF]  Applying migration '20230325135629_update'.
[2023-03-26 11:41:42.059 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] DROP CONSTRAINT [FK_Flights_Pilots_PilotId];
[2023-03-26 11:41:42.105 +03:00  INF]  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'PilotId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Flights] ALTER COLUMN [PilotId] int NULL;
[2023-03-26 11:41:42.119 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Flights]') AND [c].[name] = N'Code');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Flights] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Flights] ALTER COLUMN [Code] nvarchar(max) NULL;
[2023-03-26 11:41:42.121 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Flights] ADD CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id]);
[2023-03-26 11:41:42.121 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135629_update', N'7.0.4');
[2023-03-26 11:41:42.122 +03:00  INF]  Applying migration '20230325135734_update2'.
[2023-03-26 11:41:42.145 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'Message');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [Message] nvarchar(max) NULL;
[2023-03-26 11:41:42.159 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'ExitTime');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [ExitTime] datetime2 NULL;
[2023-03-26 11:41:42.176 +03:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ProcessLogger]') AND [c].[name] = N'EnterTime');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [ProcessLogger] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [ProcessLogger] ALTER COLUMN [EnterTime] datetime2 NULL;
[2023-03-26 11:41:42.177 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325135734_update2', N'7.0.4');
[2023-03-26 11:41:42.177 +03:00  INF]  Applying migration '20230325162659_update3'.
[2023-03-26 11:41:42.185 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230325162659_update3', N'7.0.4');
[2023-03-26 11:41:42.185 +03:00  INF]  Applying migration '20230326063004_update4'.
[2023-03-26 11:41:42.194 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326063004_update4', N'7.0.4');
[2023-03-26 11:41:42.194 +03:00  INF]  Applying migration '20230326070348_adding-FlightIDToLeg'.
[2023-03-26 11:42:02.002 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:42:02.108 +03:00  INF]  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 11:42:02.111 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:42:02.112 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 11:42:02.140 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 11:42:02.156 +03:00  INF]  Applying migration '20230326084156_init'.
[2023-03-26 11:42:02.240 +03:00  ERR]  Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL IDENTITY,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id])
);
[2023-03-26 11:42:15.997 +03:00  INF]  Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-26 11:42:16.145 +03:00  INF]  Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-26 11:42:16.168 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:42:16.249 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-26 11:42:16.250 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-26 11:42:16.267 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-26 11:42:16.272 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-26 11:42:16.291 +03:00  INF]  Applying migration '20230326084156_init'.
[2023-03-26 11:42:16.339 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL IDENTITY,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id])
);
[2023-03-26 11:42:16.342 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-26 11:42:16.344 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id])
);
[2023-03-26 11:42:16.347 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [LegId] int NULL,
    [EnterTime] datetime2 NULL,
    [ExitTime] datetime2 NULL,
    [Message] nvarchar(max) NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id]),
    CONSTRAINT [FK_ProcessLogger_Legs_LegId] FOREIGN KEY ([LegId]) REFERENCES [Legs] ([Id])
);
[2023-03-26 11:42:16.348 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-26 11:42:16.349 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-26 11:42:16.350 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_LegId] ON [ProcessLogger] ([LegId]);
[2023-03-26 11:42:16.352 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326084156_init', N'7.0.4');
[2023-03-26 11:42:24.711 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 11:42:24.884 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 11:42:24.887 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 11:42:24.888 +03:00  INF]  Hosting environment: Development
[2023-03-26 11:42:24.888 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 11:42:26.100 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 11:42:26.475 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 378.6134ms
[2023-03-26 11:42:26.753 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 11:42:26.753 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 11:42:26.763 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 9.7498ms
[2023-03-26 11:42:26.810 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.0388ms
[2023-03-26 11:42:26.950 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 11:42:27.100 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.5532ms
[2023-03-26 11:42:29.040 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLegs - 0
[2023-03-26 11:42:29.050 +03:00  INF]  CORS policy execution successful.
[2023-03-26 11:42:29.056 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLegs (Airport)'
[2023-03-26 11:42:29.079 +03:00  INF]  Route matched with {action = "AddLegs", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLegs() on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 11:42:52.303 +03:00  INF]  Executed DbCommand (97ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Legs] ([CurrentLeg], [NextPosibbleLegs])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
[2023-03-26 11:42:54.696 +03:00  INF]  Added Log! Leg's Id: 1, Leg's Number: One, Leg's Next Posibble Legs Two
[2023-03-26 12:30:13.274 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:30:13.356 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:30:13.358 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:30:13.359 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:30:13.359 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:30:13.650 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:30:13.907 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 259.4721ms
[2023-03-26 12:30:14.010 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:30:14.010 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:30:14.015 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 4.2075ms
[2023-03-26 12:30:14.030 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.5847ms
[2023-03-26 12:30:14.164 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:30:14.278 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.0264ms
[2023-03-26 12:32:44.397 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:32:44.408 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 11.5266ms
[2023-03-26 12:32:44.434 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:32:44.435 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:32:44.435 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.7872ms
[2023-03-26 12:32:44.446 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 11.7137ms
[2023-03-26 12:32:44.616 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:32:44.619 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.5239ms
[2023-03-26 12:32:47.777 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:32:47.783 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 5.0169ms
[2023-03-26 12:32:47.805 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:32:47.806 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:32:47.807 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 1.3466ms
[2023-03-26 12:32:47.814 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.9713ms
[2023-03-26 12:32:47.961 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:32:47.963 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.4277ms
[2023-03-26 12:33:03.461 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:33:03.620 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:33:03.622 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:33:03.623 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:33:03.623 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:33:04.849 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:33:05.186 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 339.0439ms
[2023-03-26 12:33:05.312 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:33:05.312 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:33:05.325 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.1685ms
[2023-03-26 12:33:05.374 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.1665ms
[2023-03-26 12:33:05.533 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:33:05.696 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.1266ms
[2023-03-26 12:33:47.576 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:33:47.736 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:33:47.746 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:33:47.747 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:33:47.747 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:34:08.409 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:34:08.577 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:34:08.580 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:34:08.580 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:34:08.580 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:34:09.359 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:34:09.698 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 343.2727ms
[2023-03-26 12:34:09.876 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:34:09.877 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:34:09.899 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 21.0831ms
[2023-03-26 12:34:09.951 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.4038ms
[2023-03-26 12:34:10.077 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:34:10.271 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.7740ms
[2023-03-26 12:34:10.773 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:34:10.773 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:34:10.784 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:34:10.784 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:34:10.817 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:34:10.817 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:34:12.672 +03:00  INF]  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:34:12.672 +03:00  INF]  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:34:12.736 +03:00  WRN]  Added flight
[2023-03-26 12:34:12.736 +03:00  WRN]  Added flight
[2023-03-26 12:34:12.804 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:34:12.804 +03:00  INF]  Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:34:12.812 +03:00  INF]  Added log
[2023-03-26 12:34:12.812 +03:00  INF]  Added log
[2023-03-26 12:34:12.813 +03:00  ERR]  Successssss
[2023-03-26 12:34:12.813 +03:00  ERR]  Successssss
[2023-03-26 12:34:13.207 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:34:13.209 +03:00  INF]  Executed DbCommand (8ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:34:13.231 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:34:13.231 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:34:13.233 +03:00  INF]  updated log
[2023-03-26 12:34:13.233 +03:00  INF]  updated log
[2023-03-26 12:34:13.241 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:34:13.241 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:34:13.246 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 2423.6882ms
[2023-03-26 12:34:13.246 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 2423.7415ms
[2023-03-26 12:34:13.247 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:34:13.247 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:34:13.260 +03:00  INF]  Request finished HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 - - 200 0 - 2486.1975ms
[2023-03-26 12:34:13.260 +03:00  INF]  Request finished HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 - - 200 0 - 2486.1949ms
[2023-03-26 12:34:38.933 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:34:39.088 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:34:39.091 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:34:39.091 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:34:39.091 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:34:40.057 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:34:46.149 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 6095.6440ms
[2023-03-26 12:34:46.962 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:34:46.962 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:34:47.572 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 609.3004ms
[2023-03-26 12:34:47.627 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 664.6033ms
[2023-03-26 12:34:47.726 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:35:04.925 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 17199.1815ms
[2023-03-26 12:35:25.799 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:35:25.955 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:35:25.958 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:35:25.959 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:35:25.959 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:35:26.554 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:35:26.921 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 369.5360ms
[2023-03-26 12:35:27.060 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:35:27.067 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 7.0298ms
[2023-03-26 12:35:27.091 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:35:31.903 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4812.4393ms
[2023-03-26 12:35:32.610 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:35:32.728 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.9431ms
[2023-03-26 12:35:50.108 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:35:50.254 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:35:50.257 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:35:50.257 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:35:50.257 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:35:51.300 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:36:01.321 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 10024.3947ms
[2023-03-26 12:36:01.421 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:36:09.931 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:36:10.023 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:36:10.025 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:36:10.026 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:36:10.026 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:36:10.511 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:36:10.749 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 240.4314ms
[2023-03-26 12:36:10.766 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:36:10.775 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 8.2962ms
[2023-03-26 12:36:10.828 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:36:10.850 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.0140ms
[2023-03-26 12:36:11.063 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:36:11.177 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.9090ms
[2023-03-26 12:36:12.511 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:36:12.511 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:36:12.520 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:12.520 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:12.549 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:12.549 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:13.916 +03:00  INF]  Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:13.916 +03:00  INF]  Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:13.975 +03:00  WRN]  Added flight
[2023-03-26 12:36:13.975 +03:00  WRN]  Added flight
[2023-03-26 12:36:14.036 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:14.036 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:14.044 +03:00  INF]  Added log
[2023-03-26 12:36:14.044 +03:00  INF]  Added log
[2023-03-26 12:36:14.044 +03:00  ERR]  Successssss
[2023-03-26 12:36:14.044 +03:00  ERR]  Successssss
[2023-03-26 12:36:14.339 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:14.339 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:14.357 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:14.357 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:14.359 +03:00  INF]  updated log
[2023-03-26 12:36:14.359 +03:00  INF]  updated log
[2023-03-26 12:36:14.365 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:14.365 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:14.370 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 1817.0419ms
[2023-03-26 12:36:14.370 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 1816.9312ms
[2023-03-26 12:36:14.371 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:14.371 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:14.379 +03:00  INF]  Request finished HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 - - 200 0 - 1868.2294ms
[2023-03-26 12:36:14.379 +03:00  INF]  Request finished HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 - - 200 0 - 1868.2281ms
[2023-03-26 12:36:14.883 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:36:14.888 +03:00  INF]  CORS policy execution successful.
[2023-03-26 12:36:14.889 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:14.889 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:14.974 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:14.975 +03:00  WRN]  Added flight
[2023-03-26 12:36:14.977 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:14.977 +03:00  INF]  Added log
[2023-03-26 12:36:14.977 +03:00  ERR]  Successssss
[2023-03-26 12:36:14.979 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:14.981 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:14.981 +03:00  INF]  updated log
[2023-03-26 12:36:14.982 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:14.982 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 92.1396ms
[2023-03-26 12:36:14.982 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:14.983 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117 - 200 0 - 100.0448ms
[2023-03-26 12:36:16.074 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:36:16.074 +03:00  INF]  CORS policy execution successful.
[2023-03-26 12:36:16.074 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:16.074 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:16.079 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:16.080 +03:00  WRN]  Added flight
[2023-03-26 12:36:16.081 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:16.081 +03:00  INF]  Added log
[2023-03-26 12:36:16.081 +03:00  ERR]  Successssss
[2023-03-26 12:36:16.082 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:16.084 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:16.084 +03:00  INF]  updated log
[2023-03-26 12:36:16.084 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:16.084 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 9.617ms
[2023-03-26 12:36:16.084 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:16.085 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117 - 200 0 - 10.9251ms
[2023-03-26 12:36:16.927 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:36:16.927 +03:00  INF]  CORS policy execution successful.
[2023-03-26 12:36:16.928 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:16.928 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:16.932 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:16.932 +03:00  WRN]  Added flight
[2023-03-26 12:36:16.936 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:16.936 +03:00  INF]  Added log
[2023-03-26 12:36:16.937 +03:00  ERR]  Successssss
[2023-03-26 12:36:16.937 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:16.939 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:16.939 +03:00  INF]  updated log
[2023-03-26 12:36:16.939 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:16.939 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 11.3726ms
[2023-03-26 12:36:16.939 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:16.939 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117 - 200 0 - 12.1615ms
[2023-03-26 12:36:19.569 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:36:19.569 +03:00  INF]  CORS policy execution successful.
[2023-03-26 12:36:19.569 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:19.569 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:19.574 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:19.574 +03:00  WRN]  Added flight
[2023-03-26 12:36:19.576 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:19.576 +03:00  INF]  Added log
[2023-03-26 12:36:19.576 +03:00  ERR]  Successssss
[2023-03-26 12:36:19.578 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:19.579 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:19.579 +03:00  INF]  updated log
[2023-03-26 12:36:19.580 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:19.580 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 10.5663ms
[2023-03-26 12:36:19.580 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:19.580 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117 - 200 0 - 11.3348ms
[2023-03-26 12:36:20.148 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:36:20.148 +03:00  INF]  CORS policy execution successful.
[2023-03-26 12:36:20.148 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:20.148 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:20.152 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:20.152 +03:00  WRN]  Added flight
[2023-03-26 12:36:20.153 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:20.154 +03:00  INF]  Added log
[2023-03-26 12:36:20.154 +03:00  ERR]  Successssss
[2023-03-26 12:36:20.154 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:20.156 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:20.156 +03:00  INF]  updated log
[2023-03-26 12:36:20.156 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:20.156 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 7.5505ms
[2023-03-26 12:36:20.156 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:20.156 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117 - 200 0 - 8.3267ms
[2023-03-26 12:36:25.594 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:36:25.595 +03:00  INF]  CORS policy execution successful.
[2023-03-26 12:36:25.595 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:25.595 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:25.600 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 12:36:25.600 +03:00  WRN]  Added flight
[2023-03-26 12:36:25.602 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 12:36:25.602 +03:00  INF]  Added log
[2023-03-26 12:36:25.602 +03:00  ERR]  Successssss
[2023-03-26 12:36:25.603 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 12:36:25.604 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 12:36:25.604 +03:00  INF]  updated log
[2023-03-26 12:36:25.604 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 12:36:25.604 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 9.6019ms
[2023-03-26 12:36:25.605 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:25.605 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117 - 200 0 - 10.5488ms
[2023-03-26 12:36:43.217 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:36:43.396 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:36:43.399 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:36:43.399 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:36:43.399 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:36:44.179 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 12:36:44.526 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 349.4749ms
[2023-03-26 12:36:44.619 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 12:36:44.621 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 12:36:44.638 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.8709ms
[2023-03-26 12:36:44.723 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 102.5480ms
[2023-03-26 12:36:44.837 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 12:36:44.988 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.2518ms
[2023-03-26 12:36:45.056 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:36:45.056 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:36:45.069 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:45.069 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:36:45.107 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:45.107 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:36:56.333 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddFlight application/json 117
[2023-03-26 12:38:23.311 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 12:38:23.565 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 12:38:23.568 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 12:38:23.569 +03:00  INF]  Hosting environment: Development
[2023-03-26 12:38:23.569 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 12:38:23.821 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 12:38:23.894 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 12:38:23.931 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 12:38:24.389 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 14:28:59.765 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-26 14:28:59.944 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-26 14:28:59.947 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-26 14:28:59.947 +03:00  INF]  Hosting environment: Development
[2023-03-26 14:28:59.948 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-26 14:29:00.316 +03:00  INF]  Request starting HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 -
[2023-03-26 14:29:00.398 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 14:29:00.429 +03:00  INF]  Route matched with {action = "AddStam", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStam(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-26 14:29:00.883 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-26 14:29:01.250 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 365.2351ms
[2023-03-26 14:29:01.414 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-26 14:29:01.414 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-26 14:29:01.443 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 27.9494ms
[2023-03-26 14:29:01.684 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 269.2728ms
[2023-03-26 14:29:01.787 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-26 14:29:01.944 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.5868ms
[2023-03-26 14:29:03.234 +03:00  INF]  Executed DbCommand (290ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-26 14:29:03.329 +03:00  WRN]  Added flight
[2023-03-26 14:29:03.431 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-26 14:29:03.442 +03:00  INF]  Added log
[2023-03-26 14:29:03.442 +03:00  ERR]  Successssss
[2023-03-26 14:29:03.852 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
LEFT JOIN [Flights] AS [f] ON [p].[FlightId] = [f].[Id]
WHERE [f].[Id] = @__flightId_0
ORDER BY [p].[Id] DESC
[2023-03-26 14:29:03.876 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-26 14:29:03.879 +03:00  INF]  updated log
[2023-03-26 14:29:03.886 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-26 14:29:03.891 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddStam (Airport) in 3457.7509ms
[2023-03-26 14:29:03.892 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddStam (Airport)'
[2023-03-26 14:29:03.902 +03:00  INF]  Request finished HTTP/1.1 POST https://localhost:7297/api/Flights/AddFlight application/json;+charset=utf-8 - - 200 0 - 3590.6476ms

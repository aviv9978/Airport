[2023-03-30 00:00:05.704 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:00:05.869 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:00:05.873 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:00:05.874 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:00:05.874 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:00:06.567 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:00:06.915 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 350.3168ms
[2023-03-30 00:00:07.018 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:00:07.018 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:00:07.034 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.5372ms
[2023-03-30 00:00:07.082 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.3424ms
[2023-03-30 00:00:07.203 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:00:07.346 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.2132ms
[2023-03-30 00:00:45.063 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:00:45.078 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:00:45.085 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:00:45.117 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:00:47.089 +03:00  INF]  Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:00:47.159 +03:00  WRN]  Added flight
[2023-03-30 00:00:47.371 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:00:47.409 +03:00  INF]  Got all legs from db!
[2023-03-30 00:00:47.493 +03:00  ERR]  Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:00:47.530 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:003ffe4a-1317-4b67-a2b2-58d9e90429d7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:003ffe4a-1317-4b67-a2b2-58d9e90429d7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:00:47.604 +03:00  WRN]  Exepction
[2023-03-30 00:00:47.872 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:003ffe4a-1317-4b67-a2b2-58d9e90429d7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 99
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:00:47.892 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:00:47.901 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 2779.0476ms
[2023-03-30 00:00:47.903 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:00:47.913 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 2850.1979ms
[2023-03-30 00:01:15.424 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:01:15.586 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:01:15.589 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:01:15.589 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:01:15.589 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:01:16.401 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:01:16.696 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 298.4761ms
[2023-03-30 00:01:16.770 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:01:16.785 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.7352ms
[2023-03-30 00:01:16.849 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:01:16.925 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.1163ms
[2023-03-30 00:01:17.066 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:01:17.203 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.0434ms
[2023-03-30 00:01:27.675 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:01:27.688 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:01:27.694 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:01:27.726 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:01:29.715 +03:00  INF]  Executed DbCommand (67ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:01:29.797 +03:00  WRN]  Added flight
[2023-03-30 00:01:30.045 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:01:30.081 +03:00  INF]  Got all legs from db!
[2023-03-30 00:01:30.164 +03:00  ERR]  Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:01:30.205 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2eee7cb8-7815-4f42-a7d8-f1c14ad510da
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2eee7cb8-7815-4f42-a7d8-f1c14ad510da
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:01:30.281 +03:00  WRN]  Exepction
[2023-03-30 00:01:30.548 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2eee7cb8-7815-4f42-a7d8-f1c14ad510da
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 99
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:01:30.569 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:01:30.580 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 2847.4092ms
[2023-03-30 00:01:30.581 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:01:30.594 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 2918.8423ms
[2023-03-30 00:01:48.092 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 00:01:48.200 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 00:01:48.203 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 00:01:48.204 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 00:01:48.229 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-30 00:01:48.244 +03:00  INF]  No migrations were applied. The database is already up to date.
[2023-03-30 00:01:57.018 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:01:57.190 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:01:57.193 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:01:57.193 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:01:57.193 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:01:57.855 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:01:58.185 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 333.0132ms
[2023-03-30 00:01:58.330 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:01:58.330 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:01:58.348 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 18.1239ms
[2023-03-30 00:01:58.397 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.1805ms
[2023-03-30 00:01:58.504 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:01:58.647 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.4681ms
[2023-03-30 00:02:02.019 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:02:02.033 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:02:02.040 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:02:02.069 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:02:04.019 +03:00  INF]  Executed DbCommand (74ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:02:04.087 +03:00  WRN]  Added flight
[2023-03-30 00:02:04.339 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:02:04.373 +03:00  INF]  Got all legs from db!
[2023-03-30 00:02:04.451 +03:00  ERR]  Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:02:04.496 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84d9cfcc-d7ff-4d47-a56f-1ca5d5dfbdee
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84d9cfcc-d7ff-4d47-a56f-1ca5d5dfbdee
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:02:04.575 +03:00  WRN]  Exepction
[2023-03-30 00:02:04.835 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84d9cfcc-d7ff-4d47-a56f-1ca5d5dfbdee
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 99
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:02:04.857 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:02:04.867 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 2792.5345ms
[2023-03-30 00:02:04.868 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:02:04.877 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 2858.0339ms
[2023-03-30 00:02:13.998 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:02:14.002 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:02:14.003 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:02:14.003 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:02:14.083 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:02:14.084 +03:00  WRN]  Added flight
[2023-03-30 00:02:14.124 +03:00  ERR]  Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:02:14.137 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84d9cfcc-d7ff-4d47-a56f-1ca5d5dfbdee
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84d9cfcc-d7ff-4d47-a56f-1ca5d5dfbdee
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:02:14.183 +03:00  WRN]  Exepction
[2023-03-30 00:02:14.424 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
Invalid object name 'ProcessLogger'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84d9cfcc-d7ff-4d47-a56f-1ca5d5dfbdee
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 99
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:02:14.427 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:02:14.428 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 424.3929ms
[2023-03-30 00:02:14.428 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:02:14.429 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 430.8806ms
[2023-03-30 00:02:40.209 +03:00  INF]  Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-30 00:02:40.357 +03:00  INF]  Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-30 00:02:40.378 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 00:02:40.455 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-30 00:02:40.456 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 00:02:40.473 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 00:02:40.478 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-30 00:02:40.494 +03:00  INF]  Applying migration '20230326084156_init'.
[2023-03-30 00:02:40.539 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL IDENTITY,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id])
);
[2023-03-30 00:02:40.542 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-30 00:02:40.544 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id])
);
[2023-03-30 00:02:40.547 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [LegId] int NULL,
    [EnterTime] datetime2 NULL,
    [ExitTime] datetime2 NULL,
    [Message] nvarchar(max) NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id]),
    CONSTRAINT [FK_ProcessLogger_Legs_LegId] FOREIGN KEY ([LegId]) REFERENCES [Legs] ([Id])
);
[2023-03-30 00:02:40.548 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-30 00:02:40.549 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-30 00:02:40.550 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_LegId] ON [ProcessLogger] ([LegId]);
[2023-03-30 00:02:40.552 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326084156_init', N'7.0.4');
[2023-03-30 00:02:40.559 +03:00  INF]  Applying migration '20230327094210_update1'.
[2023-03-30 00:02:40.569 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Legs] ADD [LegType] int NOT NULL DEFAULT 0;
[2023-03-30 00:02:40.570 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230327094210_update1', N'7.0.4');
[2023-03-30 00:02:40.571 +03:00  INF]  Applying migration '20230329170519_AddingPauseTime'.
[2023-03-30 00:02:40.600 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Legs] ADD [PauseTime] int NOT NULL DEFAULT 0;
[2023-03-30 00:02:40.628 +03:00  INF]  Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CurrentLeg', N'LegType', N'NextPosibbleLegs', N'PauseTime') AND [object_id] = OBJECT_ID(N'[Legs]'))
    SET IDENTITY_INSERT [Legs] ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (1, 1, 2, 2, 3),
(2, 2, 4, 4, 4),
(3, 4, 4, 8, 5),
(4, 8, 4, 544, 4),
(5, 32, 4, 64, 3),
(6, 64, 1, 128, 4),
(7, 64, 1, 128, 4),
(8, 128, 4, 8, 5);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CurrentLeg', N'LegType', N'NextPosibbleLegs', N'PauseTime') AND [object_id] = OBJECT_ID(N'[Legs]'))
    SET IDENTITY_INSERT [Legs] OFF;
[2023-03-30 00:02:40.629 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230329170519_AddingPauseTime', N'7.0.4');
[2023-03-30 00:02:50.457 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:02:50.623 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:02:50.626 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:02:50.626 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:02:50.626 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:02:51.338 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:02:51.660 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 323.8196ms
[2023-03-30 00:02:51.788 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:02:51.788 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:02:51.815 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 27.0139ms
[2023-03-30 00:02:51.864 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.3258ms
[2023-03-30 00:02:51.985 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:02:52.133 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.4809ms
[2023-03-30 00:02:57.167 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:02:57.179 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:02:57.185 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:02:57.215 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:02:59.138 +03:00  INF]  Executed DbCommand (79ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:02:59.208 +03:00  WRN]  Added flight
[2023-03-30 00:02:59.463 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:02:59.496 +03:00  INF]  Got all legs from db!
[2023-03-30 00:02:59.570 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:02:59.579 +03:00  INF]  Added log
[2023-03-30 00:03:03.600 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:03:03.601 +03:00  INF]  Added log
[2023-03-30 00:03:08.608 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:03:08.609 +03:00  INF]  Added log
[2023-03-30 00:03:12.731 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:03:12.749 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:03:12.751 +03:00  INF]  updated log
[2023-03-30 00:03:12.757 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:03:12.760 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:03:12.761 +03:00  INF]  updated log
[2023-03-30 00:03:12.761 +03:00  ERR]  Successssss
[2023-03-30 00:03:12.770 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 00:03:12.777 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 15555.9252ms
[2023-03-30 00:03:12.779 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:03:12.790 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 15622.9007ms
[2023-03-30 00:03:54.558 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 00:03:54.568 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:03:54.568 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:03:54.573 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:03:54.656 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:03:54.657 +03:00  WRN]  Added flight
[2023-03-30 00:03:54.698 +03:00  ERR]  Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:03:54.743 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23c9e554-7f3b-4e6a-b7f0-eab275a21a74
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23c9e554-7f3b-4e6a-b7f0-eab275a21a74
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:03:54.816 +03:00  WRN]  Exepction
[2023-03-30 00:03:55.064 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23c9e554-7f3b-4e6a-b7f0-eab275a21a74
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 99
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddLandingFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 63
[2023-03-30 00:03:55.083 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:03:55.088 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 514.8257ms
[2023-03-30 00:03:55.088 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:03:55.089 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 530.9611ms
[2023-03-30 00:04:02.457 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:04:02.458 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:04:02.458 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:04:02.458 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:04:02.481 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:04:02.483 +03:00  WRN]  Added flight
[2023-03-30 00:04:02.489 +03:00  ERR]  Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:04:02.495 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23c9e554-7f3b-4e6a-b7f0-eab275a21a74
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23c9e554-7f3b-4e6a-b7f0-eab275a21a74
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:04:02.539 +03:00  WRN]  Exepction
[2023-03-30 00:04:02.784 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:23c9e554-7f3b-4e6a-b7f0-eab275a21a74
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 99
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:04:02.787 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:04:02.787 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 328.7216ms
[2023-03-30 00:04:02.787 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:04:02.787 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 330.4189ms
[2023-03-30 00:19:32.436 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:19:32.618 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:19:32.621 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:19:32.622 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:19:32.622 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:19:33.492 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:19:33.888 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 398.5551ms
[2023-03-30 00:19:34.018 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:19:34.018 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:19:34.036 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.6130ms
[2023-03-30 00:19:34.085 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.0777ms
[2023-03-30 00:19:34.205 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:19:34.347 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.3179ms
[2023-03-30 00:19:41.405 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:19:41.417 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:19:41.425 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:19:41.455 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:19:43.409 +03:00  INF]  Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:19:43.481 +03:00  WRN]  Added flight
[2023-03-30 00:19:43.727 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:19:43.763 +03:00  INF]  Got all legs from db!
[2023-03-30 00:19:43.835 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:19:43.844 +03:00  INF]  Added log
[2023-03-30 00:19:47.963 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:19:47.984 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:19:47.987 +03:00  INF]  updated log
[2023-03-30 00:19:47.994 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:19:47.994 +03:00  INF]  Added log
[2023-03-30 00:19:53.013 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:19:53.017 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:19:53.017 +03:00  INF]  updated log
[2023-03-30 00:19:53.020 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:19:53.020 +03:00  INF]  Added log
[2023-03-30 00:19:57.036 +03:00  ERR]  Successssss
[2023-03-30 00:19:57.043 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 00:19:57.050 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 15588.3604ms
[2023-03-30 00:19:57.051 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:19:57.060 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 15654.1918ms
[2023-03-30 00:21:13.651 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:21:13.863 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:21:13.866 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:21:13.866 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:21:13.866 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:21:14.658 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:21:15.013 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 357.8170ms
[2023-03-30 00:21:15.037 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:21:15.052 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 9.0902ms
[2023-03-30 00:21:15.105 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:21:15.167 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.6433ms
[2023-03-30 00:21:15.313 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:21:15.490 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.3350ms
[2023-03-30 00:21:26.300 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:21:26.310 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:21:26.316 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:21:26.347 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:21:28.261 +03:00  INF]  Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:21:28.329 +03:00  WRN]  Added flight
[2023-03-30 00:21:28.586 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:21:28.620 +03:00  INF]  Got all legs from db!
[2023-03-30 00:21:28.692 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:21:28.702 +03:00  INF]  Added log
[2023-03-30 00:21:32.811 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:21:32.829 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:21:32.832 +03:00  INF]  updated log
[2023-03-30 00:21:32.836 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:21:32.836 +03:00  INF]  Added log
[2023-03-30 00:21:37.858 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:21:37.862 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:21:37.862 +03:00  INF]  updated log
[2023-03-30 00:21:37.865 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:21:37.865 +03:00  INF]  Added log
[2023-03-30 00:21:41.880 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:21:41.883 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:21:41.883 +03:00  INF]  updated log
[2023-03-30 00:21:41.887 +03:00  ERR]  Successssss
[2023-03-30 00:21:41.894 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 00:21:41.900 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 15548.1323ms
[2023-03-30 00:21:41.901 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:21:41.911 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 15610.5686ms
[2023-03-30 00:22:10.015 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:22:10.019 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:22:10.019 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:22:10.020 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:22:10.097 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:22:10.098 +03:00  WRN]  Added flight
[2023-03-30 00:24:03.480 +03:00  ERR]  Failed executing DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:24:03.532 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:36b4e512-e718-47d7-b222-ea0572637fb7
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:36b4e512-e718-47d7-b222-ea0572637fb7
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:26:54.559 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:26:54.772 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:26:54.777 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:26:54.777 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:26:54.777 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:26:55.471 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:26:55.928 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 458.8645ms
[2023-03-30 00:26:56.048 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:26:56.048 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:26:56.063 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.2537ms
[2023-03-30 00:26:56.115 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.5937ms
[2023-03-30 00:26:56.258 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:26:56.421 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.6914ms
[2023-03-30 00:27:01.964 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:27:01.977 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:27:01.984 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:27:02.016 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:27:03.998 +03:00  INF]  Executed DbCommand (69ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:27:04.062 +03:00  WRN]  Added flight
[2023-03-30 00:27:08.365 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:27:08.399 +03:00  INF]  Got all legs from db!
[2023-03-30 00:27:09.561 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:27:09.570 +03:00  INF]  Added log
[2023-03-30 00:27:13.696 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:27:13.718 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:27:13.723 +03:00  INF]  updated log
[2023-03-30 00:27:23.987 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:27:23.987 +03:00  INF]  Added log
[2023-03-30 00:27:29.005 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:27:29.010 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:27:29.010 +03:00  INF]  updated log
[2023-03-30 00:27:30.112 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:27:30.113 +03:00  INF]  Added log
[2023-03-30 00:27:34.126 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:27:34.129 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:27:34.129 +03:00  INF]  updated log
[2023-03-30 00:27:34.134 +03:00  ERR]  Successssss
[2023-03-30 00:27:34.143 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 00:27:34.148 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 32126.4527ms
[2023-03-30 00:27:34.149 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:27:34.160 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 32197.1074ms
[2023-03-30 00:28:04.837 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:28:04.842 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:28:04.842 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:28:04.842 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:28:04.928 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:28:04.929 +03:00  WRN]  Added flight
[2023-03-30 00:28:08.382 +03:00  ERR]  Failed executing DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:28:08.432 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:abe7c2fb-a018-4c9e-bcbe-28972fb32397
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:abe7c2fb-a018-4c9e-bcbe-28972fb32397
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:32:39.262 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:32:39.350 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:32:39.352 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:32:39.353 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:32:39.353 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:32:39.941 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:32:40.200 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 261.6851ms
[2023-03-30 00:32:40.310 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:32:40.310 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:32:40.316 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 4.9791ms
[2023-03-30 00:32:40.331 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.1700ms
[2023-03-30 00:32:40.492 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:32:40.645 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.9192ms
[2023-03-30 00:32:48.819 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 00:32:48.827 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:32:48.834 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:32:48.867 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:32:50.310 +03:00  INF]  Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:32:50.369 +03:00  WRN]  Added flight
[2023-03-30 00:32:50.546 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:32:50.572 +03:00  INF]  Got all legs from db!
[2023-03-30 00:32:50.634 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:32:50.642 +03:00  INF]  Added log
[2023-03-30 00:32:53.764 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:32:53.781 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:32:53.784 +03:00  INF]  updated log
[2023-03-30 00:32:53.788 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:32:53.788 +03:00  INF]  Added log
[2023-03-30 00:32:57.807 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:32:57.814 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:32:57.814 +03:00  INF]  updated log
[2023-03-30 00:32:57.817 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:32:57.818 +03:00  INF]  Added log
[2023-03-30 00:33:02.830 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:33:02.834 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:33:02.835 +03:00  INF]  updated log
[2023-03-30 00:33:02.838 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:33:02.838 +03:00  INF]  Added log
[2023-03-30 00:33:06.850 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:33:06.854 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:33:06.854 +03:00  INF]  updated log
[2023-03-30 00:33:06.856 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:33:06.856 +03:00  INF]  Added log
[2023-03-30 00:33:09.864 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:33:09.865 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:33:09.866 +03:00  INF]  updated log
[2023-03-30 00:33:09.867 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:33:09.867 +03:00  INF]  Added log
[2023-03-30 00:33:13.876 +03:00  ERR]  Successssss
[2023-03-30 00:33:13.885 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 00:33:13.891 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 25018.477ms
[2023-03-30 00:33:13.892 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:33:13.902 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 200 0 - 25082.5963ms
[2023-03-30 00:34:00.640 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 00:34:00.644 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:34:00.645 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:34:00.645 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:34:00.715 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:34:00.715 +03:00  WRN]  Added flight
[2023-03-30 00:34:00.749 +03:00  ERR]  Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:34:00.776 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f5258202-38b2-40b3-ac00-c748ca1ad982
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f5258202-38b2-40b3-ac00-c748ca1ad982
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:34:00.777 +03:00  WRN]  Exepction
[2023-03-30 00:34:00.778 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f5258202-38b2-40b3-ac00-c748ca1ad982
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 100
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddLandingFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 63
[2023-03-30 00:34:00.791 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:34:00.794 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 148.8156ms
[2023-03-30 00:34:00.794 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:34:00.795 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 155.4013ms
[2023-03-30 00:34:29.887 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:34:29.904 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 17.4492ms
[2023-03-30 00:34:29.927 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:34:29.928 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:34:29.928 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.8042ms
[2023-03-30 00:34:29.941 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.4026ms
[2023-03-30 00:34:30.310 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:34:30.315 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.7116ms
[2023-03-30 00:34:39.992 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:34:40.003 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 11.2255ms
[2023-03-30 00:34:40.023 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:34:40.027 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:34:40.028 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.3430ms
[2023-03-30 00:34:40.031 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.9725ms
[2023-03-30 00:34:40.261 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:34:40.266 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.7710ms
[2023-03-30 00:34:48.999 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:34:49.014 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 14.1427ms
[2023-03-30 00:34:49.035 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:34:49.038 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:34:49.038 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.6067ms
[2023-03-30 00:34:49.045 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.3974ms
[2023-03-30 00:34:49.242 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:34:49.244 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.5209ms
[2023-03-30 00:35:12.454 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:35:12.469 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 15.1915ms
[2023-03-30 00:35:12.494 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:35:12.498 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:35:12.498 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.6705ms
[2023-03-30 00:35:12.502 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.9837ms
[2023-03-30 00:35:12.744 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:35:12.747 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.0078ms
[2023-03-30 00:35:44.786 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:35:44.799 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 12.6904ms
[2023-03-30 00:35:44.819 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:35:44.824 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:35:44.824 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.2659ms
[2023-03-30 00:35:44.828 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.9682ms
[2023-03-30 00:35:45.059 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:35:45.061 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.2271ms
[2023-03-30 00:36:19.551 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:36:19.568 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 16.8900ms
[2023-03-30 00:36:19.593 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:36:19.595 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:36:19.595 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.2775ms
[2023-03-30 00:36:19.607 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.6186ms
[2023-03-30 00:36:19.846 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:36:19.848 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.0981ms
[2023-03-30 00:39:05.755 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:39:05.838 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:39:05.840 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:39:05.841 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:39:05.841 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:39:06.309 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:39:06.534 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 228.7284ms
[2023-03-30 00:39:06.547 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:39:06.547 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:39:06.553 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 5.4866ms
[2023-03-30 00:39:06.566 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.8790ms
[2023-03-30 00:39:07.004 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:39:07.121 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.8246ms
[2023-03-30 00:39:10.652 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:39:10.659 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 7.6127ms
[2023-03-30 00:39:10.675 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:39:10.676 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:39:10.677 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 0.6474ms
[2023-03-30 00:39:10.686 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.8060ms
[2023-03-30 00:39:10.828 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:39:10.832 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.8013ms
[2023-03-30 00:39:17.458 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:39:17.463 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:39:17.469 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:17.494 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:39:18.972 +03:00  INF]  Executed DbCommand (46ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:39:19.029 +03:00  WRN]  Added flight
[2023-03-30 00:39:19.213 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:39:19.242 +03:00  INF]  Got all legs from db!
[2023-03-30 00:39:19.315 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:39:19.322 +03:00  INF]  Added log
[2023-03-30 00:39:23.430 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:39:23.445 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:39:23.447 +03:00  INF]  updated log
[2023-03-30 00:39:23.450 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:39:23.451 +03:00  INF]  Added log
[2023-03-30 00:39:28.458 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:39:28.460 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:39:28.461 +03:00  INF]  updated log
[2023-03-30 00:39:28.462 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:39:28.463 +03:00  INF]  Added log
[2023-03-30 00:39:32.477 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:39:32.481 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:39:32.482 +03:00  INF]  updated log
[2023-03-30 00:39:32.484 +03:00  ERR]  Successssss
[2023-03-30 00:39:32.490 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 00:39:32.495 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 14996.3955ms
[2023-03-30 00:39:32.495 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:32.502 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 15044.7153ms
[2023-03-30 00:39:46.706 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:39:46.709 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:39:46.709 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:46.709 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:39:46.788 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:39:46.789 +03:00  WRN]  Added flight
[2023-03-30 00:39:46.825 +03:00  ERR]  Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:39:46.855 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:39:46.857 +03:00  WRN]  Exepction
[2023-03-30 00:39:46.857 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:39:46.870 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:39:46.872 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 162.4862ms
[2023-03-30 00:39:46.872 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:46.873 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 166.6011ms
[2023-03-30 00:39:49.278 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:39:49.279 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:39:49.279 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:49.279 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:39:49.298 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:39:49.298 +03:00  WRN]  Added flight
[2023-03-30 00:39:49.301 +03:00  ERR]  Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:39:49.304 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:39:49.304 +03:00  WRN]  Exepction
[2023-03-30 00:39:49.305 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 00:39:49.306 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:39:49.306 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 27.075ms
[2023-03-30 00:39:49.306 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:49.306 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 28.3438ms
[2023-03-30 00:39:49.785 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:39:49.785 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:39:49.785 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:39:49.785 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:39:49.789 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:39:49.789 +03:00  WRN]  Added flight
[2023-03-30 00:40:36.766 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 00:40:36.767 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:40:36.767 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:40:36.773 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:40:36.779 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:40:36.779 +03:00  WRN]  Added flight
[2023-03-30 00:40:36.785 +03:00  ERR]  Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:40:36.789 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:40:36.791 +03:00  WRN]  Exepction
[2023-03-30 00:40:36.791 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d2d0b32d-1be4-428c-8716-d103dfc3961f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddLandingFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 63
[2023-03-30 00:40:36.792 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:40:36.793 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 19.9255ms
[2023-03-30 00:40:36.793 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:40:36.793 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 26.3573ms
[2023-03-30 00:40:40.029 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 00:40:40.030 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:40:40.030 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:40:40.030 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:40:40.035 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:40:40.035 +03:00  WRN]  Added flight
[2023-03-30 00:41:45.709 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:41:45.862 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:41:45.865 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:41:45.865 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:41:45.865 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:41:46.629 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:41:46.929 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 302.7819ms
[2023-03-30 00:41:47.023 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:41:47.023 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:41:47.039 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.5973ms
[2023-03-30 00:41:47.081 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.1270ms
[2023-03-30 00:41:47.163 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:41:47.291 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.3148ms
[2023-03-30 00:41:56.055 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:41:56.065 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:41:56.071 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:41:56.111 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:41:58.124 +03:00  INF]  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:41:58.196 +03:00  WRN]  Added flight
[2023-03-30 00:41:58.435 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:41:58.464 +03:00  INF]  Got all legs from db!
[2023-03-30 00:42:02.335 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:42:03.243 +03:00  INF]  Added log
[2023-03-30 00:44:25.395 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:44:25.651 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:44:25.654 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:44:25.655 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:44:25.655 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:44:26.351 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:44:26.676 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 326.8224ms
[2023-03-30 00:44:26.737 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:44:26.752 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.2021ms
[2023-03-30 00:44:26.785 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:44:26.855 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.1802ms
[2023-03-30 00:44:27.036 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:44:27.160 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.7756ms
[2023-03-30 00:44:31.651 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:44:31.662 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:44:31.668 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:44:31.699 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:44:33.609 +03:00  INF]  Executed DbCommand (74ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:44:33.672 +03:00  WRN]  Added flight
[2023-03-30 00:44:33.900 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:44:33.930 +03:00  INF]  Got all legs from db!
[2023-03-30 00:46:11.559 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:46:11.658 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:46:11.660 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:46:11.660 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:46:11.660 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:46:11.853 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:46:12.087 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 236.4149ms
[2023-03-30 00:46:12.186 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:46:12.186 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:46:12.191 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 4.3756ms
[2023-03-30 00:46:12.203 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.9666ms
[2023-03-30 00:46:12.319 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:46:12.442 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.2489ms
[2023-03-30 00:46:22.242 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:46:22.249 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:46:22.254 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:46:22.280 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:46:23.764 +03:00  INF]  Executed DbCommand (52ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:46:23.828 +03:00  WRN]  Added flight
[2023-03-30 00:46:24.021 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:46:24.048 +03:00  INF]  Got all legs from db!
[2023-03-30 00:46:24.112 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:24.119 +03:00  INF]  Added log
[2023-03-30 00:46:28.239 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:28.253 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:28.255 +03:00  INF]  updated log
[2023-03-30 00:46:28.259 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:28.259 +03:00  INF]  Added log
[2023-03-30 00:46:33.277 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:33.279 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:33.279 +03:00  INF]  updated log
[2023-03-30 00:46:33.281 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:33.281 +03:00  INF]  Added log
[2023-03-30 00:46:37.286 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:37.288 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:37.289 +03:00  INF]  updated log
[2023-03-30 00:46:37.291 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:37.291 +03:00  INF]  Added log
[2023-03-30 00:46:40.300 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:40.302 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:40.302 +03:00  INF]  updated log
[2023-03-30 00:46:40.304 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:40.305 +03:00  INF]  Added log
[2023-03-30 00:46:44.316 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:44.317 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:44.317 +03:00  INF]  updated log
[2023-03-30 00:46:44.319 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:44.320 +03:00  INF]  Added log
[2023-03-30 00:46:49.328 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:49.331 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:49.332 +03:00  INF]  updated log
[2023-03-30 00:46:49.334 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:49.334 +03:00  INF]  Added log
[2023-03-30 00:46:53.351 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:53.352 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:53.353 +03:00  INF]  updated log
[2023-03-30 00:46:53.354 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:53.354 +03:00  INF]  Added log
[2023-03-30 00:46:56.365 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:46:56.367 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:46:56.367 +03:00  INF]  updated log
[2023-03-30 00:46:56.369 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:46:56.369 +03:00  INF]  Added log
[2023-03-30 00:47:00.379 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:47:00.381 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:47:00.382 +03:00  INF]  updated log
[2023-03-30 00:47:00.383 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:47:00.384 +03:00  INF]  Added log
[2023-03-30 00:47:05.387 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:47:05.388 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:47:05.389 +03:00  INF]  updated log
[2023-03-30 00:47:05.390 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:47:05.390 +03:00  INF]  Added log
[2023-03-30 00:47:09.406 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:47:09.407 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:47:09.407 +03:00  INF]  updated log
[2023-03-30 00:47:09.409 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:47:09.409 +03:00  INF]  Added log
[2023-03-30 00:47:11.128 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:47:11.135 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 6.8976ms
[2023-03-30 00:47:11.193 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:47:11.194 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:47:11.195 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 1.2871ms
[2023-03-30 00:47:11.205 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.3886ms
[2023-03-30 00:47:11.383 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:47:11.387 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.1889ms
[2023-03-30 00:47:12.423 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:47:12.427 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:47:12.427 +03:00  INF]  updated log
[2023-03-30 00:47:12.430 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:47:12.430 +03:00  INF]  Added log
[2023-03-30 00:47:15.250 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 00:47:15.254 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:47:15.254 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:47:15.261 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:47:15.343 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:47:15.344 +03:00  WRN]  Added flight
[2023-03-30 00:47:15.374 +03:00  ERR]  Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 00:47:15.399 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b75dbeab-0b77-48d5-b149-1ce4853e6ddd
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b75dbeab-0b77-48d5-b149-1ce4853e6ddd
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 00:47:15.400 +03:00  WRN]  Exepction
[2023-03-30 00:47:15.401 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b75dbeab-0b77-48d5-b149-1ce4853e6ddd
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddLandingFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 63
[2023-03-30 00:47:15.414 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 00:47:15.420 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 155.6616ms
[2023-03-30 00:47:15.420 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 00:47:15.427 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 176.7885ms
[2023-03-30 00:47:16.439 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:47:16.443 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:47:16.443 +03:00  INF]  updated log
[2023-03-30 00:47:16.446 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:47:16.446 +03:00  INF]  Added log
[2023-03-30 00:47:24.587 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:47:24.765 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:47:24.768 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:47:24.768 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:47:24.768 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:47:25.609 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:47:25.977 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:47:25.978 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 371.6721ms
[2023-03-30 00:47:25.993 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.2828ms
[2023-03-30 00:47:26.056 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:47:26.123 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.6910ms
[2023-03-30 00:47:26.234 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:47:26.377 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.9501ms
[2023-03-30 00:47:48.505 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:47:48.520 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:47:48.526 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:47:48.556 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:47:50.294 +03:00  INF]  Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:47:50.357 +03:00  WRN]  Added flight
[2023-03-30 00:47:50.568 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:47:50.598 +03:00  INF]  Got all legs from db!
[2023-03-30 00:48:00.538 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:00.546 +03:00  INF]  Added log
[2023-03-30 00:48:04.649 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:04.664 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:04.666 +03:00  INF]  updated log
[2023-03-30 00:48:04.671 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:04.671 +03:00  INF]  Added log
[2023-03-30 00:48:09.692 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:09.695 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:09.695 +03:00  INF]  updated log
[2023-03-30 00:48:09.698 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:09.698 +03:00  INF]  Added log
[2023-03-30 00:48:13.713 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:13.716 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:13.716 +03:00  INF]  updated log
[2023-03-30 00:48:13.719 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:13.719 +03:00  INF]  Added log
[2023-03-30 00:48:16.723 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:16.725 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:16.726 +03:00  INF]  updated log
[2023-03-30 00:48:16.728 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:16.728 +03:00  INF]  Added log
[2023-03-30 00:48:20.740 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:20.745 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:20.745 +03:00  INF]  updated log
[2023-03-30 00:48:20.749 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:20.749 +03:00  INF]  Added log
[2023-03-30 00:48:25.761 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:25.767 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:25.767 +03:00  INF]  updated log
[2023-03-30 00:48:25.773 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:25.773 +03:00  INF]  Added log
[2023-03-30 00:48:29.785 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:29.787 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:29.787 +03:00  INF]  updated log
[2023-03-30 00:48:29.790 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:29.790 +03:00  INF]  Added log
[2023-03-30 00:48:32.805 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:32.807 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:32.808 +03:00  INF]  updated log
[2023-03-30 00:48:32.810 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:32.810 +03:00  INF]  Added log
[2023-03-30 00:48:36.814 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:36.816 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:36.816 +03:00  INF]  updated log
[2023-03-30 00:48:36.819 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:36.819 +03:00  INF]  Added log
[2023-03-30 00:48:41.830 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:41.833 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:41.833 +03:00  INF]  updated log
[2023-03-30 00:48:41.835 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:41.835 +03:00  INF]  Added log
[2023-03-30 00:48:45.847 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:45.848 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:45.849 +03:00  INF]  updated log
[2023-03-30 00:48:45.851 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:45.851 +03:00  INF]  Added log
[2023-03-30 00:48:48.856 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:48:48.858 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:48:48.858 +03:00  INF]  updated log
[2023-03-30 00:48:48.860 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:48:48.860 +03:00  INF]  Added log
[2023-03-30 00:53:35.877 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:53:35.958 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:53:35.960 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:53:35.960 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:53:35.961 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:53:36.559 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:53:36.787 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 230.0595ms
[2023-03-30 00:53:36.801 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:53:36.810 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 8.8610ms
[2023-03-30 00:53:36.857 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:53:36.878 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.8518ms
[2023-03-30 00:53:37.031 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:53:37.149 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.4071ms
[2023-03-30 00:53:52.998 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:53:53.005 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:53:53.010 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:53:53.033 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:53:54.470 +03:00  INF]  Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:53:54.538 +03:00  WRN]  Added flight
[2023-03-30 00:53:54.730 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:53:54.756 +03:00  INF]  Got all legs from db!
[2023-03-30 00:53:54.821 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:53:54.829 +03:00  INF]  Added log
[2023-03-30 00:53:58.942 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:53:58.956 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:53:58.959 +03:00  INF]  updated log
[2023-03-30 00:53:58.962 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:53:58.963 +03:00  INF]  Added log
[2023-03-30 00:54:03.968 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:03.970 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:03.970 +03:00  INF]  updated log
[2023-03-30 00:54:03.972 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:03.972 +03:00  INF]  Added log
[2023-03-30 00:54:07.976 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:07.978 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:07.979 +03:00  INF]  updated log
[2023-03-30 00:54:07.982 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:07.982 +03:00  INF]  Added log
[2023-03-30 00:54:10.990 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:10.993 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:10.993 +03:00  INF]  updated log
[2023-03-30 00:54:10.995 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:10.995 +03:00  INF]  Added log
[2023-03-30 00:54:15.012 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:15.014 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:15.014 +03:00  INF]  updated log
[2023-03-30 00:54:15.016 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:15.017 +03:00  INF]  Added log
[2023-03-30 00:54:20.032 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:20.034 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:20.034 +03:00  INF]  updated log
[2023-03-30 00:54:20.036 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:20.036 +03:00  INF]  Added log
[2023-03-30 00:54:24.048 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:24.053 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:24.054 +03:00  INF]  updated log
[2023-03-30 00:54:24.056 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:24.057 +03:00  INF]  Added log
[2023-03-30 00:54:27.070 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:27.075 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:27.075 +03:00  INF]  updated log
[2023-03-30 00:54:27.078 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:27.078 +03:00  INF]  Added log
[2023-03-30 00:54:31.083 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:31.090 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:31.090 +03:00  INF]  updated log
[2023-03-30 00:54:31.094 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:31.094 +03:00  INF]  Added log
[2023-03-30 00:54:36.109 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:36.111 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:36.111 +03:00  INF]  updated log
[2023-03-30 00:54:36.112 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:36.113 +03:00  INF]  Added log
[2023-03-30 00:54:40.117 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:40.119 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:40.119 +03:00  INF]  updated log
[2023-03-30 00:54:40.120 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:40.120 +03:00  INF]  Added log
[2023-03-30 00:54:43.129 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:43.131 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:43.131 +03:00  INF]  updated log
[2023-03-30 00:54:43.132 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:43.132 +03:00  INF]  Added log
[2023-03-30 00:54:47.140 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:47.142 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:47.142 +03:00  INF]  updated log
[2023-03-30 00:54:47.144 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:47.144 +03:00  INF]  Added log
[2023-03-30 00:54:52.161 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:52.162 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:52.162 +03:00  INF]  updated log
[2023-03-30 00:54:52.164 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:52.164 +03:00  INF]  Added log
[2023-03-30 00:54:56.182 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:56.188 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:56.188 +03:00  INF]  updated log
[2023-03-30 00:54:56.192 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:56.193 +03:00  INF]  Added log
[2023-03-30 00:54:59.203 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:54:59.208 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:54:59.208 +03:00  INF]  updated log
[2023-03-30 00:54:59.211 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:54:59.212 +03:00  INF]  Added log
[2023-03-30 00:55:03.225 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:03.227 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:03.227 +03:00  INF]  updated log
[2023-03-30 00:55:03.228 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:03.228 +03:00  INF]  Added log
[2023-03-30 00:55:08.238 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:08.240 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:08.240 +03:00  INF]  updated log
[2023-03-30 00:55:08.242 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:08.242 +03:00  INF]  Added log
[2023-03-30 00:55:12.259 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:12.261 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:12.261 +03:00  INF]  updated log
[2023-03-30 00:55:12.262 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:12.262 +03:00  INF]  Added log
[2023-03-30 00:55:15.270 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:15.272 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:15.272 +03:00  INF]  updated log
[2023-03-30 00:55:15.273 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:15.273 +03:00  INF]  Added log
[2023-03-30 00:55:19.282 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:19.284 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:19.284 +03:00  INF]  updated log
[2023-03-30 00:55:19.285 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:19.286 +03:00  INF]  Added log
[2023-03-30 00:55:24.300 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:24.302 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:24.302 +03:00  INF]  updated log
[2023-03-30 00:55:24.303 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:24.304 +03:00  INF]  Added log
[2023-03-30 00:55:28.309 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:28.312 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:28.312 +03:00  INF]  updated log
[2023-03-30 00:55:28.314 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:28.314 +03:00  INF]  Added log
[2023-03-30 00:55:31.319 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:31.327 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:31.328 +03:00  INF]  updated log
[2023-03-30 00:55:31.331 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:31.331 +03:00  INF]  Added log
[2023-03-30 00:55:35.336 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:35.340 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:35.340 +03:00  INF]  updated log
[2023-03-30 00:55:35.343 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:35.344 +03:00  INF]  Added log
[2023-03-30 00:55:40.354 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:40.356 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:40.356 +03:00  INF]  updated log
[2023-03-30 00:55:40.357 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:40.358 +03:00  INF]  Added log
[2023-03-30 00:55:44.360 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:44.361 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:44.361 +03:00  INF]  updated log
[2023-03-30 00:55:44.363 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:44.363 +03:00  INF]  Added log
[2023-03-30 00:55:47.369 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:47.370 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:47.370 +03:00  INF]  updated log
[2023-03-30 00:55:47.372 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:47.372 +03:00  INF]  Added log
[2023-03-30 00:55:51.375 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:51.376 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:51.377 +03:00  INF]  updated log
[2023-03-30 00:55:51.378 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:51.378 +03:00  INF]  Added log
[2023-03-30 00:55:56.391 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:55:56.392 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:55:56.393 +03:00  INF]  updated log
[2023-03-30 00:55:56.395 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:55:56.395 +03:00  INF]  Added log
[2023-03-30 00:56:00.413 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:56:00.419 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:56:00.419 +03:00  INF]  updated log
[2023-03-30 00:56:00.422 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:56:00.423 +03:00  INF]  Added log
[2023-03-30 00:56:04.720 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 00:56:04.946 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 00:56:04.949 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 00:56:04.949 +03:00  INF]  Hosting environment: Development
[2023-03-30 00:56:04.949 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 00:56:05.468 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 00:56:05.763 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 297.1570ms
[2023-03-30 00:56:05.774 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 00:56:05.780 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 6.0453ms
[2023-03-30 00:56:05.826 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 00:56:05.887 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.8526ms
[2023-03-30 00:56:06.032 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 00:56:06.160 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.2210ms
[2023-03-30 00:56:11.232 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 00:56:11.242 +03:00  INF]  CORS policy execution successful.
[2023-03-30 00:56:11.250 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 00:56:11.284 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 00:56:13.182 +03:00  INF]  Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 00:56:13.251 +03:00  WRN]  Added flight
[2023-03-30 00:56:13.495 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 00:56:13.529 +03:00  INF]  Got all legs from db!
[2023-03-30 00:56:13.613 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:56:13.622 +03:00  INF]  Added log
[2023-03-30 00:56:21.796 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:56:21.814 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:56:21.818 +03:00  INF]  updated log
[2023-03-30 00:56:21.823 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:56:21.823 +03:00  INF]  Added log
[2023-03-30 00:56:33.748 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 00:56:33.751 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 00:56:33.751 +03:00  INF]  updated log
[2023-03-30 00:56:33.753 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 00:56:33.755 +03:00  INF]  Added log
[2023-03-30 01:01:57.599 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:01:57.822 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:01:57.826 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:01:57.826 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:01:57.826 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:01:58.317 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:01:58.628 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 313.2512ms
[2023-03-30 01:01:58.721 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:01:58.721 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:01:58.732 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 10.5000ms
[2023-03-30 01:01:58.779 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.5019ms
[2023-03-30 01:01:58.858 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:01:58.991 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.8456ms
[2023-03-30 01:02:09.915 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:02:09.924 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:02:09.930 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:02:09.966 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:02:11.830 +03:00  INF]  Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:02:11.897 +03:00  WRN]  Added flight
[2023-03-30 01:02:12.157 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:02:12.187 +03:00  INF]  Got all legs from db!
[2023-03-30 01:02:12.258 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:02:12.267 +03:00  INF]  Added log
[2023-03-30 01:02:38.091 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:02:38.113 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:02:38.115 +03:00  INF]  updated log
[2023-03-30 01:02:38.120 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:02:38.121 +03:00  INF]  Added log
[2023-03-30 01:02:56.012 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:02:56.020 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:02:56.021 +03:00  INF]  updated log
[2023-03-30 01:02:56.025 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:02:56.025 +03:00  INF]  Added log
[2023-03-30 01:09:20.036 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:09:20.210 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:09:20.213 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:09:20.214 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:09:20.214 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:09:20.838 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:09:21.168 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 332.2884ms
[2023-03-30 01:09:21.191 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:09:21.202 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 11.6338ms
[2023-03-30 01:09:21.242 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:09:21.305 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.6824ms
[2023-03-30 01:09:21.415 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:09:21.561 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.8298ms
[2023-03-30 01:09:26.916 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:09:26.925 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:09:26.932 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:09:26.962 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:09:28.864 +03:00  INF]  Executed DbCommand (67ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:09:28.927 +03:00  WRN]  Added flight
[2023-03-30 01:09:29.176 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:09:29.207 +03:00  INF]  Got all legs from db!
[2023-03-30 01:09:29.279 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:09:29.287 +03:00  INF]  Added log
[2023-03-30 01:09:34.866 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:09:34.881 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:09:34.884 +03:00  INF]  updated log
[2023-03-30 01:09:34.889 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:09:34.891 +03:00  INF]  Added log
[2023-03-30 01:09:42.561 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:09:42.564 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:09:42.564 +03:00  INF]  updated log
[2023-03-30 01:09:42.567 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:09:42.568 +03:00  INF]  Added log
[2023-03-30 01:10:53.977 +03:00  INF]  Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 01:10:54.086 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 01:10:54.089 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 01:10:54.090 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 01:10:54.116 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-30 01:10:54.131 +03:00  INF]  No migrations were applied. The database is already up to date.
[2023-03-30 01:12:19.671 +03:00  INF]  Executed DbCommand (242ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-30 01:12:19.836 +03:00  INF]  Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-30 01:12:19.859 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 01:12:19.940 +03:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-30 01:12:19.942 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 01:12:19.959 +03:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 01:12:19.964 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-30 01:12:19.981 +03:00  INF]  Applying migration '20230326084156_init'.
[2023-03-30 01:12:20.029 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL IDENTITY,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id])
);
[2023-03-30 01:12:20.033 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-30 01:12:20.035 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id])
);
[2023-03-30 01:12:20.038 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [LegId] int NULL,
    [EnterTime] datetime2 NULL,
    [ExitTime] datetime2 NULL,
    [Message] nvarchar(max) NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id]),
    CONSTRAINT [FK_ProcessLogger_Legs_LegId] FOREIGN KEY ([LegId]) REFERENCES [Legs] ([Id])
);
[2023-03-30 01:12:20.040 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-30 01:12:20.041 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-30 01:12:20.042 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_LegId] ON [ProcessLogger] ([LegId]);
[2023-03-30 01:12:20.045 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326084156_init', N'7.0.4');
[2023-03-30 01:12:20.051 +03:00  INF]  Applying migration '20230327094210_update1'.
[2023-03-30 01:12:20.067 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Legs] ADD [LegType] int NOT NULL DEFAULT 0;
[2023-03-30 01:12:20.068 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230327094210_update1', N'7.0.4');
[2023-03-30 01:12:20.069 +03:00  INF]  Applying migration '20230329170519_AddingPauseTime'.
[2023-03-30 01:12:20.100 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Legs] ADD [PauseTime] int NOT NULL DEFAULT 0;
[2023-03-30 01:12:20.131 +03:00  INF]  Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CurrentLeg', N'LegType', N'NextPosibbleLegs', N'PauseTime') AND [object_id] = OBJECT_ID(N'[Legs]'))
    SET IDENTITY_INSERT [Legs] ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (1, 1, 2, 2, 3),
(2, 2, 4, 4, 4),
(3, 4, 4, 8, 5),
(4, 8, 4, 544, 4),
(5, 32, 4, 64, 3),
(6, 64, 1, 128, 4),
(7, 64, 1, 128, 4),
(8, 128, 4, 8, 5);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CurrentLeg', N'LegType', N'NextPosibbleLegs', N'PauseTime') AND [object_id] = OBJECT_ID(N'[Legs]'))
    SET IDENTITY_INSERT [Legs] OFF;
[2023-03-30 01:12:20.132 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230329170519_AddingPauseTime', N'7.0.4');
[2023-03-30 01:12:31.000 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:12:31.151 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:12:31.154 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:12:31.154 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:12:31.154 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:12:31.867 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:12:32.216 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 352.4027ms
[2023-03-30 01:12:32.238 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:12:32.250 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.0741ms
[2023-03-30 01:12:32.290 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:12:32.384 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.1258ms
[2023-03-30 01:12:32.522 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:12:32.690 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.1844ms
[2023-03-30 01:12:36.538 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:12:36.568 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:12:36.578 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:12:36.649 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:12:39.526 +03:00  INF]  Executed DbCommand (79ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:12:39.594 +03:00  WRN]  Added flight
[2023-03-30 01:12:39.802 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:12:39.831 +03:00  INF]  Got all legs from db!
[2023-03-30 01:12:39.897 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:12:39.904 +03:00  INF]  Added log
[2023-03-30 01:12:45.225 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:12:45.241 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:12:45.244 +03:00  INF]  updated log
[2023-03-30 01:12:45.249 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:12:45.249 +03:00  INF]  Added log
[2023-03-30 01:12:52.309 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:12:52.312 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:12:52.312 +03:00  INF]  updated log
[2023-03-30 01:12:52.315 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:12:52.315 +03:00  INF]  Added log
[2023-03-30 01:13:11.163 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:13:11.352 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:13:11.355 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:13:11.356 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:13:11.356 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:13:11.737 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:13:12.053 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 318.1114ms
[2023-03-30 01:13:12.100 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:13:12.111 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 11.2723ms
[2023-03-30 01:13:12.127 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:13:12.191 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.4832ms
[2023-03-30 01:13:12.332 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:13:12.498 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.0310ms
[2023-03-30 01:13:16.078 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:13:16.089 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:13:16.096 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:13:16.126 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:13:32.724 +03:00  INF]  Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:13:33.814 +03:00  WRN]  Added flight
[2023-03-30 01:13:41.167 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:13:41.867 +03:00  INF]  Got all legs from db!
[2023-03-30 01:13:51.681 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:13:51.691 +03:00  INF]  Added log
[2023-03-30 01:13:55.831 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:13:55.852 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:13:55.855 +03:00  INF]  updated log
[2023-03-30 01:13:55.859 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:13:55.860 +03:00  INF]  Added log
[2023-03-30 01:14:00.867 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:14:00.870 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:14:00.871 +03:00  INF]  updated log
[2023-03-30 01:14:00.874 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:14:00.874 +03:00  INF]  Added log
[2023-03-30 01:14:04.879 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:14:04.882 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:14:04.882 +03:00  INF]  updated log
[2023-03-30 01:14:04.884 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:14:04.885 +03:00  INF]  Added log
[2023-03-30 01:14:05.320 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:14:05.335 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 14.8576ms
[2023-03-30 01:14:05.375 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:14:05.377 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:14:05.388 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 10.1047ms
[2023-03-30 01:14:05.440 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.2401ms
[2023-03-30 01:14:05.586 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:14:05.590 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.9115ms
[2023-03-30 01:14:07.908 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:14:07.911 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:14:07.911 +03:00  INF]  updated log
[2023-03-30 01:14:07.913 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:14:07.914 +03:00  INF]  Added log
[2023-03-30 01:14:11.920 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:14:11.922 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:14:11.922 +03:00  INF]  updated log
[2023-03-30 01:14:11.925 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:14:11.926 +03:00  INF]  Added log
[2023-03-30 01:15:11.009 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:15:11.217 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:15:11.220 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:15:11.221 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:15:11.221 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:15:11.808 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:15:12.119 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 312.2831ms
[2023-03-30 01:15:12.133 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:15:12.140 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 6.6008ms
[2023-03-30 01:15:12.187 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:15:12.246 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.5367ms
[2023-03-30 01:15:12.361 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:15:12.488 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.5229ms
[2023-03-30 01:15:16.023 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:15:16.035 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:15:16.042 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:15:16.071 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:15:17.997 +03:00  INF]  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:15:18.061 +03:00  WRN]  Added flight
[2023-03-30 01:15:18.278 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:15:18.308 +03:00  INF]  Got all legs from db!
[2023-03-30 01:15:18.382 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:15:18.390 +03:00  INF]  Added log
[2023-03-30 01:15:23.710 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:15:23.726 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:15:23.728 +03:00  INF]  updated log
[2023-03-30 01:15:23.734 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:15:23.735 +03:00  INF]  Added log
[2023-03-30 01:15:29.455 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:15:29.462 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:15:29.463 +03:00  INF]  updated log
[2023-03-30 01:15:29.466 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:15:29.467 +03:00  INF]  Added log
[2023-03-30 01:19:05.378 +03:00  INF]  Executed DbCommand (247ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [MyAirport];
[2023-03-30 01:19:05.528 +03:00  INF]  Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [MyAirport] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-03-30 01:19:05.550 +03:00  INF]  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 01:19:05.626 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-03-30 01:19:05.628 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-03-30 01:19:05.644 +03:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-03-30 01:19:05.650 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-03-30 01:19:05.666 +03:00  INF]  Applying migration '20230326084156_init'.
[2023-03-30 01:19:05.712 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Legs] (
    [Id] int NOT NULL IDENTITY,
    [CurrentLeg] int NOT NULL,
    [NextPosibbleLegs] int NOT NULL,
    CONSTRAINT [PK_Legs] PRIMARY KEY ([Id])
);
[2023-03-30 01:19:05.714 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Pilots] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Pilots] PRIMARY KEY ([Id])
);
[2023-03-30 01:19:05.717 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Flights] (
    [Id] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [IsDeparture] bit NOT NULL,
    [PilotId] int NULL,
    CONSTRAINT [PK_Flights] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flights_Pilots_PilotId] FOREIGN KEY ([PilotId]) REFERENCES [Pilots] ([Id])
);
[2023-03-30 01:19:05.720 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ProcessLogger] (
    [Id] int NOT NULL IDENTITY,
    [FlightId] int NULL,
    [LegId] int NULL,
    [EnterTime] datetime2 NULL,
    [ExitTime] datetime2 NULL,
    [Message] nvarchar(max) NULL,
    CONSTRAINT [PK_ProcessLogger] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ProcessLogger_Flights_FlightId] FOREIGN KEY ([FlightId]) REFERENCES [Flights] ([Id]),
    CONSTRAINT [FK_ProcessLogger_Legs_LegId] FOREIGN KEY ([LegId]) REFERENCES [Legs] ([Id])
);
[2023-03-30 01:19:05.721 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flights_PilotId] ON [Flights] ([PilotId]);
[2023-03-30 01:19:05.722 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_FlightId] ON [ProcessLogger] ([FlightId]);
[2023-03-30 01:19:05.723 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ProcessLogger_LegId] ON [ProcessLogger] ([LegId]);
[2023-03-30 01:19:05.725 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230326084156_init', N'7.0.4');
[2023-03-30 01:19:05.731 +03:00  INF]  Applying migration '20230327094210_update1'.
[2023-03-30 01:19:05.743 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Legs] ADD [LegType] int NOT NULL DEFAULT 0;
[2023-03-30 01:19:05.743 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230327094210_update1', N'7.0.4');
[2023-03-30 01:19:05.745 +03:00  INF]  Applying migration '20230329170519_AddingPauseTime'.
[2023-03-30 01:19:05.776 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Legs] ADD [PauseTime] int NOT NULL DEFAULT 0;
[2023-03-30 01:19:05.807 +03:00  INF]  Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CurrentLeg', N'LegType', N'NextPosibbleLegs', N'PauseTime') AND [object_id] = OBJECT_ID(N'[Legs]'))
    SET IDENTITY_INSERT [Legs] ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (1, 1, 2, 2, 3),
(2, 2, 4, 4, 4),
(3, 4, 4, 8, 5),
(4, 8, 4, 544, 4),
(5, 32, 4, 64, 3),
(6, 64, 1, 128, 4),
(7, 64, 1, 128, 4),
(8, 128, 4, 8, 5);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CurrentLeg', N'LegType', N'NextPosibbleLegs', N'PauseTime') AND [object_id] = OBJECT_ID(N'[Legs]'))
    SET IDENTITY_INSERT [Legs] OFF;
[2023-03-30 01:19:05.808 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230329170519_AddingPauseTime', N'7.0.4');
[2023-03-30 01:19:05.809 +03:00  INF]  Applying migration '20230329221853_dot'.
[2023-03-30 01:19:05.826 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Legs] SET [LegType] = 12, [NextPosibbleLegs] = 272, [PauseTime] = 2
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
[2023-03-30 01:19:05.828 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Legs] SET [CurrentLeg] = 16, [NextPosibbleLegs] = 96
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
[2023-03-30 01:19:05.829 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Legs] SET [CurrentLeg] = 32
WHERE [Id] = 6;
SELECT @@ROWCOUNT;
[2023-03-30 01:19:05.830 +03:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230329221853_dot', N'7.0.4');
[2023-03-30 01:19:36.579 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:19:36.754 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:19:36.757 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:19:36.757 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:19:36.757 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:19:37.328 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:19:37.661 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 335.4265ms
[2023-03-30 01:19:37.679 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:19:37.691 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.6607ms
[2023-03-30 01:19:37.733 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:19:37.795 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.6412ms
[2023-03-30 01:19:37.929 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:19:38.053 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.7892ms
[2023-03-30 01:19:44.146 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:19:44.158 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:19:44.165 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:19:44.193 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:19:46.121 +03:00  INF]  Executed DbCommand (64ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:19:46.185 +03:00  WRN]  Added flight
[2023-03-30 01:19:46.403 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:19:46.438 +03:00  INF]  Got all legs from db!
[2023-03-30 01:19:46.518 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:19:46.527 +03:00  INF]  Added log
[2023-03-30 01:19:52.341 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:19:52.358 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:19:52.361 +03:00  INF]  updated log
[2023-03-30 01:19:52.365 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:19:52.366 +03:00  INF]  Added log
[2023-03-30 01:19:59.589 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:19:59.592 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:19:59.592 +03:00  INF]  updated log
[2023-03-30 01:19:59.595 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:19:59.595 +03:00  INF]  Added log
[2023-03-30 01:20:21.860 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:20:23.668 +03:00  INF]  Executed DbCommand (20ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:20:24.537 +03:00  INF]  updated log
[2023-03-30 01:20:32.798 +03:00  ERR]  Successssss
[2023-03-30 01:20:32.805 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 01:20:32.811 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 48612.7129ms
[2023-03-30 01:20:32.812 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:20:32.824 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 48677.7969ms
[2023-03-30 01:20:57.624 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:20:57.630 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:20:57.630 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:20:57.637 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:20:57.740 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:20:57.741 +03:00  WRN]  Added flight
[2023-03-30 01:20:57.779 +03:00  ERR]  Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 01:20:57.830 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b4fd0a13-1c30-4e08-9591-5f64e8f5b151
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b4fd0a13-1c30-4e08-9591-5f64e8f5b151
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 01:20:57.881 +03:00  WRN]  Exepction
[2023-03-30 01:20:58.130 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b4fd0a13-1c30-4e08-9591-5f64e8f5b151
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddLandingFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 63
[2023-03-30 01:20:58.150 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 01:20:58.154 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 516.9879ms
[2023-03-30 01:20:58.154 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:20:58.154 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 529.9928ms
[2023-03-30 01:21:16.818 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:21:16.819 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:21:16.819 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:21:16.819 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:21:22.920 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:21:23.682 +03:00  WRN]  Added flight
[2023-03-30 01:23:29.185 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:23:29.366 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:23:29.369 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:23:29.370 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:23:29.370 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:23:29.857 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:23:30.171 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 316.7268ms
[2023-03-30 01:23:30.183 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:23:30.195 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 11.6328ms
[2023-03-30 01:23:30.246 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:23:30.330 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.0550ms
[2023-03-30 01:23:30.453 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:23:30.581 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.2028ms
[2023-03-30 01:23:34.825 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:23:34.836 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:23:34.844 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:23:34.876 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:23:38.561 +03:00  INF]  Executed DbCommand (118ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:23:38.629 +03:00  WRN]  Added flight
[2023-03-30 01:23:38.861 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:23:38.892 +03:00  INF]  Got all legs from db!
[2023-03-30 01:23:43.473 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:23:43.481 +03:00  INF]  Added log
[2023-03-30 01:23:46.611 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:23:46.631 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:23:46.634 +03:00  INF]  updated log
[2023-03-30 01:23:46.638 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:23:46.639 +03:00  INF]  Added log
[2023-03-30 01:23:50.650 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:23:50.652 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:23:50.653 +03:00  INF]  updated log
[2023-03-30 01:23:50.655 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:23:50.656 +03:00  INF]  Added log
[2023-03-30 01:23:55.659 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:23:55.662 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:23:55.662 +03:00  INF]  updated log
[2023-03-30 01:23:55.665 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:23:55.665 +03:00  INF]  Added log
[2023-03-30 01:23:57.676 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:23:57.679 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:23:57.679 +03:00  INF]  updated log
[2023-03-30 01:23:57.681 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:23:57.682 +03:00  INF]  Added log
[2023-03-30 01:24:00.697 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:24:00.700 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:24:00.700 +03:00  INF]  updated log
[2023-03-30 01:24:00.707 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:24:00.707 +03:00  INF]  Added log
[2023-03-30 01:24:04.719 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:24:04.721 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:24:04.722 +03:00  INF]  updated log
[2023-03-30 01:24:04.728 +03:00  ERR]  Successssss
[2023-03-30 01:24:04.738 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 01:24:04.745 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 29863.0548ms
[2023-03-30 01:24:04.746 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:24:04.756 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 200 0 - 29931.3943ms
[2023-03-30 01:24:51.949 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:24:51.959 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:24:51.959 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:24:51.959 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:24:56.694 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:24:57.116 +03:00  WRN]  Added flight
[2023-03-30 01:25:30.587 +03:00  ERR]  Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 01:25:30.635 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:198e846c-7240-48bf-8277-2175ade33b1f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:198e846c-7240-48bf-8277-2175ade33b1f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 01:25:30.687 +03:00  WRN]  Exepction
[2023-03-30 01:25:30.925 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:198e846c-7240-48bf-8277-2175ade33b1f
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddLandingFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 63
[2023-03-30 01:25:30.941 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 01:25:30.945 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 38985.1863ms
[2023-03-30 01:25:30.945 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:25:30.945 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 38996.3195ms
[2023-03-30 01:25:57.854 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:25:57.860 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:25:57.860 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:25:57.860 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:26:03.123 +03:00  INF]  Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:26:03.976 +03:00  WRN]  Added flight
[2023-03-30 01:26:44.895 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:26:45.055 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:26:45.058 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:26:45.058 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:26:45.058 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:26:45.666 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:26:45.992 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 328.6948ms
[2023-03-30 01:26:46.005 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:26:46.020 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.2620ms
[2023-03-30 01:26:46.071 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:26:46.136 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.9491ms
[2023-03-30 01:26:46.244 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:26:46.386 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.9607ms
[2023-03-30 01:26:51.783 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:26:51.794 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:26:51.800 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:26:51.834 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:26:57.768 +03:00  INF]  Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:26:57.835 +03:00  WRN]  Added flight
[2023-03-30 01:26:58.112 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:26:58.148 +03:00  INF]  Got all legs from db!
[2023-03-30 01:27:00.852 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:27:00.861 +03:00  INF]  Added log
[2023-03-30 01:27:03.972 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:27:03.988 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:27:03.991 +03:00  INF]  updated log
[2023-03-30 01:27:03.996 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:27:03.997 +03:00  INF]  Added log
[2023-03-30 01:27:08.011 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:27:08.014 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:27:08.014 +03:00  INF]  updated log
[2023-03-30 01:27:08.016 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:27:08.017 +03:00  INF]  Added log
[2023-03-30 01:27:13.035 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:27:13.037 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:27:13.038 +03:00  INF]  updated log
[2023-03-30 01:27:13.040 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:27:13.041 +03:00  INF]  Added log
[2023-03-30 01:27:15.047 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:27:15.049 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:27:15.050 +03:00  INF]  updated log
[2023-03-30 01:27:15.052 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:27:15.053 +03:00  INF]  Added log
[2023-03-30 01:27:18.066 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:27:18.069 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:27:18.069 +03:00  INF]  updated log
[2023-03-30 01:27:18.072 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:27:18.073 +03:00  INF]  Added log
[2023-03-30 01:27:22.076 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:27:22.079 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:27:22.079 +03:00  INF]  updated log
[2023-03-30 01:27:22.084 +03:00  ERR]  Successssss
[2023-03-30 01:27:22.091 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 01:27:22.098 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 30257.7866ms
[2023-03-30 01:27:22.099 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:27:22.110 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 200 0 - 30326.9184ms
[2023-03-30 01:27:29.865 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:27:29.869 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:27:29.869 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:27:29.869 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:27:35.093 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:27:35.647 +03:00  WRN]  Added flight
[2023-03-30 01:28:04.862 +03:00  ERR]  Failed executing DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 01:28:04.909 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8afad97c-4158-4836-9925-4aea2e378777
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8afad97c-4158-4836-9925-4aea2e378777
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 01:31:17.778 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:31:17.860 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:31:17.862 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:31:17.862 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:31:17.862 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:31:18.443 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:31:18.687 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 245.7973ms
[2023-03-30 01:31:18.810 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:31:18.810 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:31:18.816 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 4.6851ms
[2023-03-30 01:31:18.828 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.7509ms
[2023-03-30 01:31:18.946 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:31:19.066 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.4365ms
[2023-03-30 01:31:28.486 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117
[2023-03-30 01:31:28.493 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:31:28.497 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:31:28.523 +03:00  INF]  Route matched with {action = "AddLandingFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLandingFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:31:29.986 +03:00  INF]  Executed DbCommand (46ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:31:30.038 +03:00  WRN]  Added flight
[2023-03-30 01:31:30.229 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:31:30.265 +03:00  INF]  Got all legs from db!
[2023-03-30 01:31:30.342 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:31:30.349 +03:00  INF]  Added log
[2023-03-30 01:31:31.824 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:31:31.828 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:31:31.828 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:31:31.833 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:31:31.909 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:31:31.910 +03:00  WRN]  Added flight
[2023-03-30 01:31:31.949 +03:00  ERR]  Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Legs] ([Id], [CurrentLeg], [LegType], [NextPosibbleLegs], [PauseTime])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9);
[2023-03-30 01:31:31.979 +03:00  ERR]  An exception occurred in the database while saving changes for context type 'Airport.Infrastracture.AirportDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:389754b9-743d-4d20-8d1b-a77a7e9e33ea
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:389754b9-743d-4d20-8d1b-a77a7e9e33ea
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-03-30 01:31:31.980 +03:00  WRN]  Exepction
[2023-03-30 01:31:31.981 +03:00  ERR]  An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Legs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:389754b9-743d-4d20-8d1b-a77a7e9e33ea
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Airport.Infrastracture.Repositories.ProcLogRepository.AddProcLogAsync(ProcessLog log) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Infrastracture\Repositories\ProcLogRepository.cs:line 23
   at Airport.Application.LogicServices.TerminalService.AddProcLogAsync(Flight flight, Leg leg, String message) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 104
   at Airport.Application.LogicServices.TerminalService.NextLegAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 52
   at Airport.Application.LogicServices.TerminalService.StartFlightAsync(Flight flight, Boolean isDeparture) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport.Application\LogicServices\TerminalService.cs:line 41
   at FlightSimulator.Controllers.FlightsController.AddDepartureFlight(FlightDto flightDto) in C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport\Controllers\FlightsController.cs:line 39
[2023-03-30 01:31:31.995 +03:00  INF]  Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2023-03-30 01:31:32.003 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 165.2314ms
[2023-03-30 01:31:32.003 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:31:32.011 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 500 - application/problem+json;+charset=utf-8 186.3813ms
[2023-03-30 01:31:33.461 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:31:33.474 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:31:33.477 +03:00  INF]  updated log
[2023-03-30 01:31:33.479 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:31:33.480 +03:00  INF]  Added log
[2023-03-30 01:31:37.486 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:31:37.488 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:31:37.488 +03:00  INF]  updated log
[2023-03-30 01:31:37.490 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:31:37.490 +03:00  INF]  Added log
[2023-03-30 01:31:42.492 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:31:42.494 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:31:42.495 +03:00  INF]  updated log
[2023-03-30 01:31:42.496 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:31:42.496 +03:00  INF]  Added log
[2023-03-30 01:31:44.498 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:31:44.500 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:31:44.500 +03:00  INF]  updated log
[2023-03-30 01:31:44.502 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:31:44.502 +03:00  INF]  Added log
[2023-03-30 01:31:47.514 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:31:47.517 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:31:47.517 +03:00  INF]  updated log
[2023-03-30 01:31:47.518 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:31:47.519 +03:00  INF]  Added log
[2023-03-30 01:31:51.523 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:31:51.525 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:31:51.525 +03:00  INF]  updated log
[2023-03-30 01:31:51.528 +03:00  ERR]  Successssss
[2023-03-30 01:31:51.531 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 01:31:51.532 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport) in 23008.3994ms
[2023-03-30 01:31:51.532 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddLandingFlight (Airport)'
[2023-03-30 01:31:51.532 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddLandingFlight application/json 117 - 200 0 - 23046.5891ms
[2023-03-30 01:33:06.586 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:33:06.672 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:33:06.674 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:33:06.674 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:33:06.675 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:33:06.723 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:33:06.944 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 223.2033ms
[2023-03-30 01:33:06.961 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:33:06.961 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:33:06.966 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 4.8523ms
[2023-03-30 01:33:06.978 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.2488ms
[2023-03-30 01:33:07.175 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:33:07.285 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.6006ms
[2023-03-30 01:35:25.402 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:35:25.549 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:35:25.552 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:35:25.552 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:35:25.552 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:35:26.443 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:35:26.752 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 311.1401ms
[2023-03-30 01:35:26.842 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:35:26.842 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:35:26.864 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 21.2348ms
[2023-03-30 01:35:26.910 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.5925ms
[2023-03-30 01:35:26.991 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:35:27.119 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.0263ms
[2023-03-30 01:35:33.146 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:35:33.156 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:35:33.163 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:35:33.193 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:35:37.256 +03:00  INF]  Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:35:37.327 +03:00  WRN]  Added flight
[2023-03-30 01:35:37.564 +03:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:35:37.597 +03:00  INF]  Got all legs from db!
[2023-03-30 01:35:41.594 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:35:41.602 +03:00  INF]  Added log
[2023-03-30 01:35:45.709 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:35:45.727 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:35:45.729 +03:00  INF]  updated log
[2023-03-30 01:35:45.735 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:35:45.736 +03:00  INF]  Added log
[2023-03-30 01:35:50.742 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:35:50.745 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:35:50.745 +03:00  INF]  updated log
[2023-03-30 01:35:50.748 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:35:50.749 +03:00  INF]  Added log
[2023-03-30 01:35:52.760 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:35:52.763 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:35:52.763 +03:00  INF]  updated log
[2023-03-30 01:35:52.769 +03:00  ERR]  Successssss
[2023-03-30 01:35:52.776 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 01:35:52.781 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 19583.3176ms
[2023-03-30 01:35:52.782 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:35:52.792 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 19646.2920ms
[2023-03-30 01:35:55.222 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:35:55.225 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:35:55.226 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:35:55.226 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:36:03.595 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:36:03.595 +03:00  WRN]  Added flight
[2023-03-30 01:36:27.006 +03:00  INF]  Now listening on: https://localhost:7297
[2023-03-30 01:36:27.200 +03:00  INF]  Now listening on: http://localhost:5128
[2023-03-30 01:36:27.203 +03:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-03-30 01:36:27.203 +03:00  INF]  Hosting environment: Development
[2023-03-30 01:36:27.203 +03:00  INF]  Content root path: C:\Users\Aviv\OneDrive\שולחן העבודה\GitHubProjects\AirportProject\Server\Airport
[2023-03-30 01:36:27.844 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/index.html - -
[2023-03-30 01:36:28.172 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/index.html - - - 200 - text/html;charset=utf-8 330.4677ms
[2023-03-30 01:36:28.268 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - -
[2023-03-30 01:36:28.268 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - -
[2023-03-30 01:36:28.295 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 26.3793ms
[2023-03-30 01:36:28.342 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.9925ms
[2023-03-30 01:36:28.427 +03:00  INF]  Request starting HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - -
[2023-03-30 01:36:28.561 +03:00  INF]  Request finished HTTP/2 GET https://localhost:7297/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.3692ms
[2023-03-30 01:36:36.275 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:36:36.287 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:36:36.294 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:36:36.323 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
[2023-03-30 01:36:44.131 +03:00  INF]  Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([Code], [IsDeparture], [Name], [PilotId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
[2023-03-30 01:36:44.215 +03:00  WRN]  Added flight
[2023-03-30 01:36:44.459 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[CurrentLeg], [l].[LegType], [l].[NextPosibbleLegs], [l].[PauseTime]
FROM [Legs] AS [l]
[2023-03-30 01:36:44.496 +03:00  INF]  Got all legs from db!
[2023-03-30 01:36:44.577 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:36:44.587 +03:00  INF]  Added log
[2023-03-30 01:36:48.695 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:36:48.713 +03:00  INF]  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:36:48.715 +03:00  INF]  updated log
[2023-03-30 01:36:48.721 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:36:48.722 +03:00  INF]  Added log
[2023-03-30 01:36:53.740 +03:00  INF]  Executed DbCommand (2ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:36:53.746 +03:00  INF]  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:36:53.746 +03:00  INF]  updated log
[2023-03-30 01:36:53.751 +03:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ProcessLogger] ([EnterTime], [ExitTime], [FlightId], [LegId], [Message])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
[2023-03-30 01:36:53.751 +03:00  INF]  Added log
[2023-03-30 01:36:55.757 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@__procLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[EnterTime], [p].[ExitTime], [p].[FlightId], [p].[LegId], [p].[Message]
FROM [ProcessLogger] AS [p]
WHERE [p].[Id] = @__procLogId_0
[2023-03-30 01:36:55.760 +03:00  INF]  Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ProcessLogger] SET [EnterTime] = @p0, [ExitTime] = @p1, [FlightId] = @p2, [LegId] = @p3, [Message] = @p4
OUTPUT 1
WHERE [Id] = @p5;
[2023-03-30 01:36:55.760 +03:00  INF]  updated log
[2023-03-30 01:36:55.764 +03:00  ERR]  Successssss
[2023-03-30 01:36:55.772 +03:00  INF]  Executing StatusCodeResult, setting HTTP status code 200
[2023-03-30 01:36:55.777 +03:00  INF]  Executed action FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport) in 19448.9156ms
[2023-03-30 01:36:55.778 +03:00  INF]  Executed endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:36:55.788 +03:00  INF]  Request finished HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117 - 200 0 - 19512.2807ms
[2023-03-30 01:37:09.955 +03:00  INF]  Request starting HTTP/2 POST https://localhost:7297/api/Flights/AddDepartureFlight application/json 117
[2023-03-30 01:37:09.959 +03:00  INF]  CORS policy execution successful.
[2023-03-30 01:37:09.959 +03:00  INF]  Executing endpoint 'FlightSimulator.Controllers.FlightsController.AddDepartureFlight (Airport)'
[2023-03-30 01:37:09.960 +03:00  INF]  Route matched with {action = "AddDepartureFlight", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDepartureFlight(FlightSimulator.Models.FlightDto) on controller FlightSimulator.Controllers.FlightsController (Airport).
